import{S as F,i as G,s as Q,e as v,k as L,c as b,a as y,m as M,d as _,g as T,J as p,t as w,h as B,b as k,K as x,j as V,L as z,M as W,n as q,w as Z}from"../../chunks/index-3549ff43.js";var S=(l=>(l.unClicked="unClicked",l.correct="correct",l.incorrect="incorrect",l))(S||{}),A=(l=>(l.mine="mine",l.empty="empty",l))(A||{});class J{constructor(n){this.status="unClicked",this.type=n}getStatusChar(){return this.status=="incorrect"?"X":""}getStyle(){return this.status=="unClicked"?"box-unClicked":`box-${this.type}`}}function K(l,n,s){const a=l.slice();return a[4]=n[s],a[6]=s,a}function U(l,n,s){const a=l.slice();return a[7]=n[s],a[9]=s,a}function X(l){let n,s,a=l[0][l[6]][l[9]].getStatusChar()+"",t,r,c,e,d;return{c(){n=v("td"),s=v("button"),t=w(a),this.h()},l(i){n=b(i,"TD",{});var u=y(n);s=b(u,"BUTTON",{type:!0,id:!0,class:!0});var m=y(s);t=B(m,a),m.forEach(_),u.forEach(_),this.h()},h(){k(s,"type","button"),k(s,"id",r=l[9]+"_"+l[6]),k(s,"class",c="box "+l[0][l[6]][l[9]].getStyle()+" svelte-1850mif")},m(i,u){T(i,n,u),p(n,s),p(s,t),e||(d=x(s,"click",l[2]),e=!0)},p(i,u){u&1&&a!==(a=i[0][i[6]][i[9]].getStatusChar()+"")&&V(t,a),u&1&&c!==(c="box "+i[0][i[6]][i[9]].getStyle()+" svelte-1850mif")&&k(s,"class",c)},d(i){i&&_(n),e=!1,d()}}}function Y(l){let n,s,a=l[4],t=[];for(let r=0;r<a.length;r+=1)t[r]=X(U(l,a,r));return{c(){n=v("tr");for(let r=0;r<t.length;r+=1)t[r].c();s=L()},l(r){n=b(r,"TR",{});var c=y(n);for(let e=0;e<t.length;e+=1)t[e].l(c);s=M(c),c.forEach(_)},m(r,c){T(r,n,c);for(let e=0;e<t.length;e+=1)t[e].m(n,null);p(n,s)},p(r,c){if(c&5){a=r[4];let e;for(e=0;e<a.length;e+=1){const d=U(r,a,e);t[e]?t[e].p(d,c):(t[e]=X(d),t[e].c(),t[e].m(n,s))}for(;e<t.length;e+=1)t[e].d(1);t.length=a.length}},d(r){r&&_(n),z(t,r)}}}function $(l){let n,s,a,t,r,c,e,d,i,u,m,I,P,D,C=l[0],h=[];for(let o=0;o<C.length;o+=1)h[o]=Y(K(l,C,o));return{c(){n=v("head"),s=v("title"),a=w("Picross"),t=L(),r=v("body"),c=v("p"),e=v("a"),d=w("Home"),i=L(),u=v("main"),m=v("table");for(let o=0;o<h.length;o+=1)h[o].c();I=L(),this.h()},l(o){n=b(o,"HEAD",{});var g=y(n);s=b(g,"TITLE",{});var f=y(s);a=B(f,"Picross"),f.forEach(_),g.forEach(_),t=M(o),r=b(o,"BODY",{class:!0});var E=y(r);c=b(E,"P",{class:!0});var H=y(c);e=b(H,"A",{href:!0});var R=y(e);d=B(R,"Home"),R.forEach(_),H.forEach(_),i=M(E),u=b(E,"MAIN",{class:!0});var N=y(u);m=b(N,"TABLE",{class:!0});var O=y(m);for(let j=0;j<h.length;j+=1)h[j].l(O);O.forEach(_),N.forEach(_),E.forEach(_),I=M(o),this.h()},h(){k(e,"href","/"),k(c,"class","svelte-1850mif"),k(m,"class","grid svelte-1850mif"),k(u,"class","svelte-1850mif"),k(r,"class","svelte-1850mif")},m(o,g){T(o,n,g),p(n,s),p(s,a),T(o,t,g),T(o,r,g),p(r,c),p(c,e),p(e,d),p(r,i),p(r,u),p(u,m);for(let f=0;f<h.length;f+=1)h[f].m(m,null);T(o,I,g),P||(D=x(document.body,"contextmenu",W(l[1])),P=!0)},p(o,[g]){if(g&5){C=o[0];let f;for(f=0;f<C.length;f+=1){const E=K(o,C,f);h[f]?h[f].p(E,g):(h[f]=Y(E),h[f].c(),h[f].m(m,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=C.length}},i:q,o:q,d(o){o&&_(n),o&&_(t),o&&_(r),z(h,o),o&&_(I),P=!1,D()}}}async function ee(l){console.log(l)}function te(l,n,s){function a(){return Math.random()<.5?new J(A.mine):new J(A.empty)}let t=[];Z(()=>{console.log("Starting js");for(let e=0;e<10;e++){s(0,t[e]=[],t);for(let d=0;d<10;d++)t[e].push(a())}console.log(t)});async function r(e){return Array.from(e.target.classList).includes("box")&&c(e),!1}async function c(e){ee(e);let d=e.target.id.split("_"),i=parseInt(d[0]),u=parseInt(d[1]),m=t[u][i];m.status==S.unClicked&&(e.type=="click"?m.type==A.empty?s(0,t[u][i].status=S.correct,t):s(0,t[u][i].status=S.incorrect,t):m.type==A.mine?s(0,t[u][i].status=S.correct,t):s(0,t[u][i].status=S.incorrect,t))}return[t,r,c]}class se extends F{constructor(n){super(),G(this,n,te,$,Q,{})}}export{se as default};
