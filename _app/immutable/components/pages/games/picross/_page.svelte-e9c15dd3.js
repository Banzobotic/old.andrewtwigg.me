var W=Object.defineProperty;var Z=(i,e,l)=>e in i?W(i,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[e]=l;var T=(i,e,l)=>(Z(i,typeof e!="symbol"?e+"":e,l),l);import{S as tt,i as et,s as lt,k as p,q as B,a as P,w as rt,l as g,m,r as N,h as c,c as R,x as ot,n as I,b as k,G as y,y as st,K as q,L as G,f as nt,t as it,z as at,M as L,N as Q,O as D,e as j,p as f,u as U,B as ct}from"../../../../chunks/index-13fba489.js";import{N as ht}from"../../../../chunks/Navbar-d8336603.js";var A=(i=>(i.unClicked="unClicked",i.correct="correct",i.incorrect="incorrect",i))(A||{}),z=(i=>(i.goal="goal",i.death="death",i))(z||{});class ut{constructor(){T(this,"status");T(this,"type");this.status="unClicked",this.type=Math.random()<.5?"goal":"death"}getStatusChar(){return this.status=="incorrect"?"X":""}getStyle(){return this.status=="unClicked"?"box-unClicked":`box-${this.type}`}}class ft{constructor(e){T(this,"grid");T(this,"size");T(this,"column_positions");T(this,"row_positions");this.size=e;let l,o,r;this.grid=[];for(let t=1;t<=this.size;t++){this.grid[t]=[];for(let s=1;s<=this.size;s++)this.grid[t][s]=new ut}this.column_positions=[];for(let t=1;t<=this.size;t++)this.column_positions[t]=this.getPositionsInColumn(t);this.row_positions=[];for(let t=1;t<=this.size;t++)this.row_positions[t]=this.getPositionsInRow(t);l=0,o=0,r=0;for(let t=1;t<=10;t++)for(let s=0;s<=4;s++){let n=this.get_int(this.column_positions[t][s]),a=this.get_int(this.row_positions[t][s]);l+=n,n!==0&&(o+=1,r+=n),a!==0&&(o+=1,r+=a)}console.log(l),console.log(r/o),console.log(l*(r/o))}get_int(e){let l=parseInt(e);return isNaN(l)?0:l}at_id(e){return this.grid[e.y][e.x]}at(e,l){return this.grid[l][e]}setStatus(e,l){this.grid[e.y][e.x].status=l}getPositionsInColumn(e){let l=0,o=[];for(let r=1;r<=this.size;r++)this.grid[r][e].type==z.goal?l+=1:l!=0&&(o.push(l.toString()),l=0);for(l!=0&&o.push(l.toString()),o=o.reverse();o.length<5;)o.push("  ");return o}getPositionsInRow(e){let l=0,o=[];for(let r=1;r<=this.size;r++)this.grid[e][r].type==z.goal?l+=1:l!=0&&(o.push(l.toString()),l=0);for(l!=0&&o.push(l.toString()),o=o.reverse();o.length<5;)o.push("  ");return o}}class _t{constructor(e){T(this,"x");T(this,"y");let l=e.target.id.split("_");this.x=parseInt(l[0]),this.y=parseInt(l[1])}}function M(i,e,l){const o=i.slice();return o[8]=e[l],o[10]=l,o}function V(i,e,l){const o=i.slice();return o[8]=e[l],o[12]=l,o}function H(i,e,l){const o=i.slice();return o[8]=e[l],o[14]=l,o}function K(i,e,l){const o=i.slice();return o[8]=e[l],o[14]=l,o}function dt(i){let e,l,o=i[0].at(i[12],i[10]).getStatusChar()+"",r,t,s,n;return{c(){e=p("td"),l=p("button"),r=B(o),this.h()},l(a){e=g(a,"TD",{style:!0});var u=m(e);l=g(u,"BUTTON",{type:!0,id:!0,class:!0});var v=m(l);r=N(v,o),v.forEach(c),u.forEach(c),this.h()},h(){I(l,"type","button"),I(l,"id",i[12]+"_"+i[10]),I(l,"class",t="box "+i[0].at(i[12],i[10]).getStyle()+" svelte-1njtqcq"),f(e,"padding","0"),f(e,"border","1px solid #ccc")},m(a,u){k(a,e,u),y(e,l),y(l,r),s||(n=[q(l,"mousedown",i[1]),q(l,"mouseover",i[1]),q(l,"focus",i[5])],s=!0)},p(a,u){u&1&&o!==(o=a[0].at(a[12],a[10]).getStatusChar()+"")&&U(r,o),u&1&&t!==(t="box "+a[0].at(a[12],a[10]).getStyle()+" svelte-1njtqcq")&&I(l,"class",t)},d(a){a&&c(e),s=!1,Q(n)}}}function pt(i){let e,l,o,r=Array(5),t=[];for(let s=0;s<r.length;s+=1)t[s]=X(H(i,r,s));return{c(){e=p("td"),l=p("table"),o=p("tr");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"TD",{style:!0});var n=m(e);l=g(n,"TABLE",{});var a=m(l);o=g(a,"TR",{});var u=m(o);for(let v=0;v<t.length;v+=1)t[v].l(u);u.forEach(c),a.forEach(c),n.forEach(c),this.h()},h(){f(e,"padding","0"),f(e,"border","1px solid #ccc"),f(e,"border-left","0px"),f(e,"border-top","0px")},m(s,n){k(s,e,n),y(e,l),y(l,o);for(let a=0;a<t.length;a+=1)t[a].m(o,null)},p(s,n){if(n&1){r=Array(5);let a;for(a=0;a<r.length;a+=1){const u=H(s,r,a);t[a]?t[a].p(u,n):(t[a]=X(u),t[a].c(),t[a].m(o,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=r.length}},d(s){s&&c(e),L(t,s)}}}function gt(i){let e;function l(t,s){return t[12]==0?bt:mt}let r=l(i)(i);return{c(){r.c(),e=j()},l(t){r.l(t),e=j()},m(t,s){r.m(t,s),k(t,e,s)},p(t,s){r.p(t,s)},d(t){r.d(t),t&&c(e)}}}function X(i){let e,l,o=i[0].row_positions[i[10]][4-i[14]]+"",r;return{c(){e=p("td"),l=p("pre"),r=B(o),this.h()},l(t){e=g(t,"TD",{style:!0});var s=m(e);l=g(s,"PRE",{style:!0});var n=m(l);r=N(n,o),n.forEach(c),s.forEach(c),this.h()},h(){f(l,"margin","0"),f(l,"font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"),f(e,"color","white"),f(e,"padding","5px"),f(e,"text-align","right")},m(t,s){k(t,e,s),y(e,l),y(l,r)},p(t,s){s&1&&o!==(o=t[0].row_positions[t[10]][4-t[14]]+"")&&U(r,o)},d(t){t&&c(e)}}}function mt(i){let e,l,o=Array(5),r=[];for(let t=0;t<o.length;t+=1)r[t]=Y(K(i,o,t));return{c(){e=p("td"),l=p("table");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=g(t,"TD",{style:!0});var s=m(e);l=g(s,"TABLE",{style:!0});var n=m(l);for(let a=0;a<r.length;a+=1)r[a].l(n);n.forEach(c),s.forEach(c),this.h()},h(){f(l,"margin","auto"),f(e,"padding","0"),f(e,"border","1px solid #ccc"),f(e,"border-left","0px"),f(e,"border-top","0px")},m(t,s){k(t,e,s),y(e,l);for(let n=0;n<r.length;n+=1)r[n].m(l,null)},p(t,s){if(s&1){o=Array(5);let n;for(n=0;n<o.length;n+=1){const a=K(t,o,n);r[n]?r[n].p(a,s):(r[n]=Y(a),r[n].c(),r[n].m(l,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}},d(t){t&&c(e),L(r,t)}}}function bt(i){let e;return{c(){e=p("td"),this.h()},l(l){e=g(l,"TD",{style:!0}),m(e).forEach(c),this.h()},h(){f(e,"padding","0"),f(e,"border","1px solid #ccc"),f(e,"border-left","0px"),f(e,"border-top","0px")},m(l,o){k(l,e,o)},p:ct,d(l){l&&c(e)}}}function Y(i){let e,l,o,r=i[0].column_positions[i[12]][4-i[14]]+"",t;return{c(){e=p("tr"),l=p("td"),o=p("pre"),t=B(r),this.h()},l(s){e=g(s,"TR",{});var n=m(e);l=g(n,"TD",{style:!0});var a=m(l);o=g(a,"PRE",{style:!0});var u=m(o);t=N(u,r),u.forEach(c),a.forEach(c),n.forEach(c),this.h()},h(){f(o,"margin","0"),f(o,"font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"),f(l,"color","white")},m(s,n){k(s,e,n),y(e,l),y(l,o),y(o,t)},p(s,n){n&1&&r!==(r=s[0].column_positions[s[12]][4-s[14]]+"")&&U(t,r)},d(s){s&&c(e)}}}function F(i){let e;function l(t,s){return t[10]==0?gt:t[12]==0?pt:dt}let r=l(i)(i);return{c(){r.c(),e=j()},l(t){r.l(t),e=j()},m(t,s){r.m(t,s),k(t,e,s)},p(t,s){r.p(t,s)},d(t){r.d(t),t&&c(e)}}}function J(i){let e,l,o=Array(C+1),r=[];for(let t=0;t<o.length;t+=1)r[t]=F(V(i,o,t));return{c(){e=p("tr");for(let t=0;t<r.length;t+=1)r[t].c();l=P()},l(t){e=g(t,"TR",{});var s=m(e);for(let n=0;n<r.length;n+=1)r[n].l(s);l=R(s),s.forEach(c)},m(t,s){k(t,e,s);for(let n=0;n<r.length;n+=1)r[n].m(e,null);y(e,l)},p(t,s){if(s&3){o=Array(C+1);let n;for(n=0;n<o.length;n+=1){const a=V(t,o,n);r[n]?r[n].p(a,s):(r[n]=F(a),r[n].c(),r[n].m(e,l))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}},d(t){t&&c(e),L(r,t)}}}function yt(i){let e,l,o,r,t,s,n,a,u,v,_,x;s=new ht({});let E=Array(C+1),b=[];for(let h=0;h<E.length;h+=1)b[h]=J(M(i,E,h));return{c(){e=p("head"),l=p("title"),o=B("Picross"),r=P(),t=p("body"),rt(s.$$.fragment),n=P(),a=p("table");for(let h=0;h<b.length;h+=1)b[h].c();u=P(),this.h()},l(h){e=g(h,"HEAD",{});var w=m(e);l=g(w,"TITLE",{});var d=m(l);o=N(d,"Picross"),d.forEach(c),w.forEach(c),r=R(h),t=g(h,"BODY",{class:!0});var S=m(t);ot(s.$$.fragment,S),n=R(S),a=g(S,"TABLE",{class:!0});var O=m(a);for(let $=0;$<b.length;$+=1)b[$].l(O);O.forEach(c),S.forEach(c),u=R(h),this.h()},h(){I(a,"class","grid svelte-1njtqcq"),I(t,"class","svelte-1njtqcq")},m(h,w){k(h,e,w),y(e,l),y(l,o),k(h,r,w),k(h,t,w),st(s,t,null),y(t,n),y(t,a);for(let d=0;d<b.length;d+=1)b[d].m(a,null);k(h,u,w),v=!0,_||(x=[q(document.body,"contextmenu",G(i[2])),q(document.body,"dragstart",G(i[3])),q(document.body,"selectstart",G(i[4]))],_=!0)},p(h,[w]){if(w&3){E=Array(C+1);let d;for(d=0;d<E.length;d+=1){const S=M(h,E,d);b[d]?b[d].p(S,w):(b[d]=J(S),b[d].c(),b[d].m(a,null))}for(;d<b.length;d+=1)b[d].d(1);b.length=E.length}},i(h){v||(nt(s.$$.fragment,h),v=!0)},o(h){it(s.$$.fragment,h),v=!1},d(h){h&&c(e),h&&c(r),h&&c(t),at(s),L(b,h),h&&c(u),_=!1,Q(x)}}}let C=10;function vt(i,e,l){var o;(function(_){_[_.left=1]="left",_[_.right=2]="right"})(o||(o={}));let r=new ft(C);function t(){l(0,r)}async function s(_){let x=new _t(_),E=r.at_id(x);E.status==A.unClicked&&(_.buttons==o.left?r.setStatus(x,E.type==z.goal?A.correct:A.incorrect):_.buttons==o.right&&r.setStatus(x,E.type==z.death?A.correct:A.incorrect)),t()}function n(_){D.call(this,i,_)}function a(_){D.call(this,i,_)}function u(_){D.call(this,i,_)}function v(_){D.call(this,i,_)}return[r,s,n,a,u,v]}class Tt extends tt{constructor(e){super(),et(this,e,vt,yt,lt,{})}}export{Tt as default};
