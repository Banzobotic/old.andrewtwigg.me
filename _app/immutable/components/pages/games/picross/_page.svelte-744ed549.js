var W=Object.defineProperty;var Z=(n,t,e)=>t in n?W(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var T=(n,t,e)=>(Z(n,typeof t!="symbol"?t+"":t,e),e);import{S as tt,i as et,s as rt,k as p,q as j,a as P,w as lt,l as g,m,r as L,h as c,c as R,x as ot,n as q,b as k,G as y,y as st,K as z,L as N,f as nt,t as it,z as at,M as $,N as Q,O as D,e as B,p as f,u as U,B as ct}from"../../../../chunks/index-13fba489.js";import{N as ht}from"../../../../chunks/Navbar-d8336603.js";var A=(n=>(n.unClicked="unClicked",n.correct="correct",n.incorrect="incorrect",n))(A||{}),I=(n=>(n.goal="goal",n.death="death",n))(I||{});class ut{constructor(){T(this,"status");T(this,"type");this.status="unClicked",this.type=Math.random()<.5?"goal":"death"}getStatusChar(){return this.status=="incorrect"?"X":""}getStyle(){return this.status=="unClicked"?"box-unClicked":`box-${this.type}`}}class ft{constructor(t){T(this,"grid");T(this,"size");T(this,"column_positions");T(this,"row_positions");this.size=t,this.grid=[];for(let e=1;e<=this.size;e++){this.grid[e]=[];for(let l=1;l<=this.size;l++)this.grid[e][l]=new ut}this.column_positions=[];for(let e=1;e<=this.size;e++)this.column_positions[e]=this.getPositionsInColumn(e);this.row_positions=[];for(let e=1;e<=this.size;e++)this.row_positions[e]=this.getPositionsInRow(e)}at_id(t){return this.grid[t.y][t.x]}at(t,e){return this.grid[e][t]}setStatus(t,e){this.grid[t.y][t.x].status=e}getPositionsInColumn(t){let e=0,l=[];for(let o=1;o<=this.size;o++)this.grid[o][t].type==I.goal?e+=1:e!=0&&(l.push(e.toString()),e=0);for(e!=0&&l.push(e.toString()),l=l.reverse();l.length<5;)l.push("  ");return l}getPositionsInRow(t){let e=0,l=[];for(let o=1;o<=this.size;o++)this.grid[t][o].type==I.goal?e+=1:e!=0&&(l.push(e.toString()),e=0);for(e!=0&&l.push(e.toString()),l=l.reverse();l.length<5;)l.push("  ");return l}}class _t{constructor(t){T(this,"x");T(this,"y");let e=t.target.id.split("_");this.x=parseInt(e[0]),this.y=parseInt(e[1])}}function M(n,t,e){const l=n.slice();return l[8]=t[e],l[10]=e,l}function V(n,t,e){const l=n.slice();return l[8]=t[e],l[12]=e,l}function H(n,t,e){const l=n.slice();return l[8]=t[e],l[14]=e,l}function K(n,t,e){const l=n.slice();return l[8]=t[e],l[14]=e,l}function dt(n){let t,e,l=n[0].at(n[12],n[10]).getStatusChar()+"",o,r,s,i;return{c(){t=p("td"),e=p("button"),o=j(l),this.h()},l(a){t=g(a,"TD",{style:!0});var u=m(t);e=g(u,"BUTTON",{type:!0,id:!0,class:!0});var v=m(e);o=L(v,l),v.forEach(c),u.forEach(c),this.h()},h(){q(e,"type","button"),q(e,"id",n[12]+"_"+n[10]),q(e,"class",r="box "+n[0].at(n[12],n[10]).getStyle()+" svelte-1njtqcq"),f(t,"padding","0"),f(t,"border","1px solid #ccc")},m(a,u){k(a,t,u),y(t,e),y(e,o),s||(i=[z(e,"mousedown",n[1]),z(e,"mouseover",n[1]),z(e,"focus",n[5])],s=!0)},p(a,u){u&1&&l!==(l=a[0].at(a[12],a[10]).getStatusChar()+"")&&U(o,l),u&1&&r!==(r="box "+a[0].at(a[12],a[10]).getStyle()+" svelte-1njtqcq")&&q(e,"class",r)},d(a){a&&c(t),s=!1,Q(i)}}}function pt(n){let t,e,l,o=Array(5),r=[];for(let s=0;s<o.length;s+=1)r[s]=X(H(n,o,s));return{c(){t=p("td"),e=p("table"),l=p("tr");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){t=g(s,"TD",{style:!0});var i=m(t);e=g(i,"TABLE",{});var a=m(e);l=g(a,"TR",{});var u=m(l);for(let v=0;v<r.length;v+=1)r[v].l(u);u.forEach(c),a.forEach(c),i.forEach(c),this.h()},h(){f(t,"padding","0"),f(t,"border","1px solid #ccc"),f(t,"border-left","0px"),f(t,"border-top","0px")},m(s,i){k(s,t,i),y(t,e),y(e,l);for(let a=0;a<r.length;a+=1)r[a].m(l,null)},p(s,i){if(i&1){o=Array(5);let a;for(a=0;a<o.length;a+=1){const u=H(s,o,a);r[a]?r[a].p(u,i):(r[a]=X(u),r[a].c(),r[a].m(l,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},d(s){s&&c(t),$(r,s)}}}function gt(n){let t;function e(r,s){return r[12]==0?bt:mt}let o=e(n)(n);return{c(){o.c(),t=B()},l(r){o.l(r),t=B()},m(r,s){o.m(r,s),k(r,t,s)},p(r,s){o.p(r,s)},d(r){o.d(r),r&&c(t)}}}function X(n){let t,e,l=n[0].row_positions[n[10]][4-n[14]]+"",o;return{c(){t=p("td"),e=p("pre"),o=j(l),this.h()},l(r){t=g(r,"TD",{style:!0});var s=m(t);e=g(s,"PRE",{style:!0});var i=m(e);o=L(i,l),i.forEach(c),s.forEach(c),this.h()},h(){f(e,"margin","0"),f(e,"font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"),f(t,"color","white"),f(t,"padding","5px"),f(t,"text-align","right")},m(r,s){k(r,t,s),y(t,e),y(e,o)},p(r,s){s&1&&l!==(l=r[0].row_positions[r[10]][4-r[14]]+"")&&U(o,l)},d(r){r&&c(t)}}}function mt(n){let t,e,l=Array(5),o=[];for(let r=0;r<l.length;r+=1)o[r]=Y(K(n,l,r));return{c(){t=p("td"),e=p("table");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){t=g(r,"TD",{style:!0});var s=m(t);e=g(s,"TABLE",{style:!0});var i=m(e);for(let a=0;a<o.length;a+=1)o[a].l(i);i.forEach(c),s.forEach(c),this.h()},h(){f(e,"margin","auto"),f(t,"padding","0"),f(t,"border","1px solid #ccc"),f(t,"border-left","0px"),f(t,"border-top","0px")},m(r,s){k(r,t,s),y(t,e);for(let i=0;i<o.length;i+=1)o[i].m(e,null)},p(r,s){if(s&1){l=Array(5);let i;for(i=0;i<l.length;i+=1){const a=K(r,l,i);o[i]?o[i].p(a,s):(o[i]=Y(a),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=l.length}},d(r){r&&c(t),$(o,r)}}}function bt(n){let t;return{c(){t=p("td"),this.h()},l(e){t=g(e,"TD",{style:!0}),m(t).forEach(c),this.h()},h(){f(t,"padding","0"),f(t,"border","1px solid #ccc"),f(t,"border-left","0px"),f(t,"border-top","0px")},m(e,l){k(e,t,l)},p:ct,d(e){e&&c(t)}}}function Y(n){let t,e,l,o=n[0].column_positions[n[12]][4-n[14]]+"",r;return{c(){t=p("tr"),e=p("td"),l=p("pre"),r=j(o),this.h()},l(s){t=g(s,"TR",{});var i=m(t);e=g(i,"TD",{style:!0});var a=m(e);l=g(a,"PRE",{style:!0});var u=m(l);r=L(u,o),u.forEach(c),a.forEach(c),i.forEach(c),this.h()},h(){f(l,"margin","0"),f(l,"font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"),f(e,"color","white")},m(s,i){k(s,t,i),y(t,e),y(e,l),y(l,r)},p(s,i){i&1&&o!==(o=s[0].column_positions[s[12]][4-s[14]]+"")&&U(r,o)},d(s){s&&c(t)}}}function F(n){let t;function e(r,s){return r[10]==0?gt:r[12]==0?pt:dt}let o=e(n)(n);return{c(){o.c(),t=B()},l(r){o.l(r),t=B()},m(r,s){o.m(r,s),k(r,t,s)},p(r,s){o.p(r,s)},d(r){o.d(r),r&&c(t)}}}function J(n){let t,e,l=Array(C+1),o=[];for(let r=0;r<l.length;r+=1)o[r]=F(V(n,l,r));return{c(){t=p("tr");for(let r=0;r<o.length;r+=1)o[r].c();e=P()},l(r){t=g(r,"TR",{});var s=m(t);for(let i=0;i<o.length;i+=1)o[i].l(s);e=R(s),s.forEach(c)},m(r,s){k(r,t,s);for(let i=0;i<o.length;i+=1)o[i].m(t,null);y(t,e)},p(r,s){if(s&3){l=Array(C+1);let i;for(i=0;i<l.length;i+=1){const a=V(r,l,i);o[i]?o[i].p(a,s):(o[i]=F(a),o[i].c(),o[i].m(t,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=l.length}},d(r){r&&c(t),$(o,r)}}}function yt(n){let t,e,l,o,r,s,i,a,u,v,_,x;s=new ht({});let E=Array(C+1),b=[];for(let h=0;h<E.length;h+=1)b[h]=J(M(n,E,h));return{c(){t=p("head"),e=p("title"),l=j("Picross"),o=P(),r=p("body"),lt(s.$$.fragment),i=P(),a=p("table");for(let h=0;h<b.length;h+=1)b[h].c();u=P(),this.h()},l(h){t=g(h,"HEAD",{});var w=m(t);e=g(w,"TITLE",{});var d=m(e);l=L(d,"Picross"),d.forEach(c),w.forEach(c),o=R(h),r=g(h,"BODY",{class:!0});var S=m(r);ot(s.$$.fragment,S),i=R(S),a=g(S,"TABLE",{class:!0});var O=m(a);for(let G=0;G<b.length;G+=1)b[G].l(O);O.forEach(c),S.forEach(c),u=R(h),this.h()},h(){q(a,"class","grid svelte-1njtqcq"),q(r,"class","svelte-1njtqcq")},m(h,w){k(h,t,w),y(t,e),y(e,l),k(h,o,w),k(h,r,w),st(s,r,null),y(r,i),y(r,a);for(let d=0;d<b.length;d+=1)b[d].m(a,null);k(h,u,w),v=!0,_||(x=[z(document.body,"contextmenu",N(n[2])),z(document.body,"dragstart",N(n[3])),z(document.body,"selectstart",N(n[4]))],_=!0)},p(h,[w]){if(w&3){E=Array(C+1);let d;for(d=0;d<E.length;d+=1){const S=M(h,E,d);b[d]?b[d].p(S,w):(b[d]=J(S),b[d].c(),b[d].m(a,null))}for(;d<b.length;d+=1)b[d].d(1);b.length=E.length}},i(h){v||(nt(s.$$.fragment,h),v=!0)},o(h){it(s.$$.fragment,h),v=!1},d(h){h&&c(t),h&&c(o),h&&c(r),at(s),$(b,h),h&&c(u),_=!1,Q(x)}}}let C=10;function vt(n,t,e){var l;(function(_){_[_.left=1]="left",_[_.right=2]="right"})(l||(l={}));let o=new ft(C);function r(){e(0,o)}async function s(_){let x=new _t(_),E=o.at_id(x);E.status==A.unClicked&&(_.buttons==l.left?o.setStatus(x,E.type==I.goal?A.correct:A.incorrect):_.buttons==l.right&&o.setStatus(x,E.type==I.death?A.correct:A.incorrect)),r()}function i(_){D.call(this,n,_)}function a(_){D.call(this,n,_)}function u(_){D.call(this,n,_)}function v(_){D.call(this,n,_)}return[o,s,i,a,u,v]}class Tt extends tt{constructor(t){super(),et(this,t,vt,yt,rt,{})}}export{Tt as default};
