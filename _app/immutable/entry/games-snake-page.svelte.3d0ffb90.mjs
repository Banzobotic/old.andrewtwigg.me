var Yl=Object.defineProperty;var Vl=(G,g,w)=>g in G?Yl(G,g,{enumerable:!0,configurable:!0,writable:!0,value:w}):G[g]=w;var j=(G,g,w)=>(Vl(G,typeof g!="symbol"?g+"":g,w),w);import{S as Ul,i as Zl,s as jl,k as tr,q as Gr,a as kr,l as nr,m as fr,r as qr,h as rr,c as wr,n as J,p as Gt,J as qt,b as ga,G as F,K as Jl,u as qe,H as Ot,o as Ql}from"../chunks/index.e5a23430.mjs";import{c as Ht}from"../chunks/units.13f9e7fa.mjs";import{w as da}from"../chunks/index.6e332c4a.mjs";var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ba={},rf={get exports(){return ba},set exports(G){ba=G}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(G,g){(function(w,V){G.exports=V()})(Kl,function(){for(var w=function(r,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),r<e?e:r>a?a:r},V=w,ir=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=V(r[e],0,255)):e===3&&(r[e]=V(r[e],0,1));return r},D={},K=0,Z=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];K<Z.length;K+=1){var hr=Z[K];D["[object "+hr+"]"]=hr.toLowerCase()}var Q=function(r){return D[Object.prototype.toString.call(r)]||"object"},M=Q,T=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):M(r[0])=="object"&&e?e.split("").filter(function(a){return r[0][a]!==void 0}).map(function(a){return r[0][a]}):r[0]},br=Q,m=function(r){if(r.length<2)return null;var e=r.length-1;return br(r[e])=="string"?r[e].toLowerCase():null},E=Math.PI,c={clip_rgb:ir,limit:w,type:Q,unpack:T,last:m,PI:E,TWOPI:E*2,PITHIRD:E/3,DEG2RAD:E/180,RAD2DEG:180/E},d={format:{},autodetect:[]},$=c.last,q=c.clip_rgb,P=c.type,L=d,or=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var t=this;if(P(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var i=$(e),s=!1;if(!i){s=!0,L.sorted||(L.autodetect=L.autodetect.sort(function(u,b){return b.p-u.p}),L.sorted=!0);for(var n=0,l=L.autodetect;n<l.length;n+=1){var f=l[n];if(i=f.test.apply(f,e),i)break}}if(L.format[i]){var o=L.format[i].apply(null,s?e:e.slice(0,-1));t._rgb=q(o)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)};or.prototype.toString=function(){return P(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var k=or,vr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(vr.Color,[null].concat(r)))};vr.Color=k,vr.version="2.4.2";var Y=vr,oe=c.unpack,Cr=Math.max,Xr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=oe(r,"rgb"),t=a[0],i=a[1],s=a[2];t=t/255,i=i/255,s=s/255;var n=1-Cr(t,Cr(i,s)),l=n<1?1/(1-n):0,f=(1-t-n)*l,o=(1-i-n)*l,u=(1-s-n)*l;return[f,o,u,n]},ue=Xr,$r=c.unpack,ce=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=$r(r,"cmyk");var a=r[0],t=r[1],i=r[2],s=r[3],n=r.length>4?r[4]:1;return s===1?[0,0,0,n]:[a>=1?0:255*(1-a)*(1-s),t>=1?0:255*(1-t)*(1-s),i>=1?0:255*(1-i)*(1-s),n]},ve=ce,xr=Y,Yr=k,Mr=d,Ir=c.unpack,Me=c.type,he=ue;Yr.prototype.cmyk=function(){return he(this._rgb)},xr.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Yr,[null].concat(r,["cmyk"])))},Mr.format.cmyk=ve,Mr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ir(r,"cmyk"),Me(r)==="array"&&r.length===4)return"cmyk"}});var Nr=c.unpack,Ee=c.last,Or=function(r){return Math.round(r*100)/100},ge=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Nr(r,"hsla"),t=Ee(r)||"lsa";return a[0]=Or(a[0]||0),a[1]=Or(a[1]*100)+"%",a[2]=Or(a[2]*100)+"%",t==="hsla"||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,t="hsla"):a.length=3,t+"("+a.join(",")+")"},Ce=ge,ar=c.unpack,gr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ar(r,"rgba");var a=r[0],t=r[1],i=r[2];a/=255,t/=255,i/=255;var s=Math.min(a,t,i),n=Math.max(a,t,i),l=(n+s)/2,f,o;return n===s?(f=0,o=Number.NaN):f=l<.5?(n-s)/(n+s):(n-s)/(2-n-s),a==n?o=(t-i)/(n-s):t==n?o=2+(i-a)/(n-s):i==n&&(o=4+(a-t)/(n-s)),o*=60,o<0&&(o+=360),r.length>3&&r[3]!==void 0?[o,f,l,r[3]]:[o,f,l]},de=gr,Ar=c.unpack,Sr=c.last,Vr=Ce,Ne=de,Ur=Math.round,Fr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ar(r,"rgba"),t=Sr(r)||"rgb";return t.substr(0,3)=="hsl"?Vr(Ne(a),t):(a[0]=Ur(a[0]),a[1]=Ur(a[1]),a[2]=Ur(a[2]),(t==="rgba"||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,t="rgba"),t+"("+a.slice(0,t==="rgb"?3:4).join(",")+")")},Zr=Fr,Ae=c.unpack,jr=Math.round,Jr=function(){for(var r,e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Ae(e,"hsl");var t=e[0],i=e[1],s=e[2],n,l,f;if(i===0)n=l=f=s*255;else{var o=[0,0,0],u=[0,0,0],b=s<.5?s*(1+i):s+i-s*i,v=2*s-b,y=t/360;o[0]=y+1/3,o[1]=y,o[2]=y-1/3;for(var _=0;_<3;_++)o[_]<0&&(o[_]+=1),o[_]>1&&(o[_]-=1),6*o[_]<1?u[_]=v+(b-v)*6*o[_]:2*o[_]<1?u[_]=b:3*o[_]<2?u[_]=v+(b-v)*(2/3-o[_])*6:u[_]=v;r=[jr(u[0]*255),jr(u[1]*255),jr(u[2]*255)],n=r[0],l=r[1],f=r[2]}return e.length>3?[n,l,f,e[3]]:[n,l,f,1]},be=Jr,pe=be,me=d,_e=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Te=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,pa=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ma=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,_a=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ya=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ka=Math.round,wa=function(r){r=r.toLowerCase().trim();var e;if(me.format.named)try{return me.format.named(r)}catch{}if(e=r.match(_e)){for(var a=e.slice(1,4),t=0;t<3;t++)a[t]=+a[t];return a[3]=1,a}if(e=r.match(Te)){for(var i=e.slice(1,5),s=0;s<4;s++)i[s]=+i[s];return i}if(e=r.match(pa)){for(var n=e.slice(1,4),l=0;l<3;l++)n[l]=ka(n[l]*2.55);return n[3]=1,n}if(e=r.match(ma)){for(var f=e.slice(1,5),o=0;o<3;o++)f[o]=ka(f[o]*2.55);return f[3]=+f[3],f}if(e=r.match(_a)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var b=pe(u);return b[3]=1,b}if(e=r.match(ya)){var v=e.slice(1,4);v[1]*=.01,v[2]*=.01;var y=pe(v);return y[3]=+e[4],y}};wa.test=function(r){return _e.test(r)||Te.test(r)||pa.test(r)||ma.test(r)||_a.test(r)||ya.test(r)};var Xt=wa,Yt=Y,$a=k,xa=d,Vt=c.type,Ut=Zr,Ma=Xt;$a.prototype.css=function(r){return Ut(this._rgb,r)},Yt.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply($a,[null].concat(r,["css"])))},xa.format.css=Ma,xa.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Vt(r)==="string"&&Ma.test(r))return"css"}});var Ea=k,Zt=Y,jt=d,Jt=c.unpack;jt.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Jt(r,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},Zt.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ea,[null].concat(r,["gl"])))},Ea.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var Qt=c.unpack,Kt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Qt(r,"rgb"),t=a[0],i=a[1],s=a[2],n=Math.min(t,i,s),l=Math.max(t,i,s),f=l-n,o=f*100/255,u=n/(255-f)*100,b;return f===0?b=Number.NaN:(t===l&&(b=(i-s)/f),i===l&&(b=2+(s-t)/f),s===l&&(b=4+(t-i)/f),b*=60,b<0&&(b+=360)),[b,o,u]},rn=Kt,en=c.unpack,an=Math.floor,tn=function(){for(var r,e,a,t,i,s,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=en(n,"hcg");var f=n[0],o=n[1],u=n[2],b,v,y;u=u*255;var _=o*255;if(o===0)b=v=y=u;else{f===360&&(f=0),f>360&&(f-=360),f<0&&(f+=360),f/=60;var C=an(f),I=f-C,z=u*(1-o),O=z+_*(1-I),ur=z+_*I,lr=z+_;switch(C){case 0:r=[lr,ur,z],b=r[0],v=r[1],y=r[2];break;case 1:e=[O,lr,z],b=e[0],v=e[1],y=e[2];break;case 2:a=[z,lr,ur],b=a[0],v=a[1],y=a[2];break;case 3:t=[z,O,lr],b=t[0],v=t[1],y=t[2];break;case 4:i=[ur,z,lr],b=i[0],v=i[1],y=i[2];break;case 5:s=[lr,z,O],b=s[0],v=s[1],y=s[2];break}}return[b,v,y,n.length>3?n[3]:1]},nn=tn,sn=c.unpack,ln=c.type,fn=Y,Ca=k,Na=d,on=rn;Ca.prototype.hcg=function(){return on(this._rgb)},fn.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ca,[null].concat(r,["hcg"])))},Na.format.hcg=nn,Na.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=sn(r,"hcg"),ln(r)==="array"&&r.length===3)return"hcg"}});var un=c.unpack,cn=c.last,Pe=Math.round,vn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=un(r,"rgba"),t=a[0],i=a[1],s=a[2],n=a[3],l=cn(r)||"auto";n===void 0&&(n=1),l==="auto"&&(l=n<1?"rgba":"rgb"),t=Pe(t),i=Pe(i),s=Pe(s);var f=t<<16|i<<8|s,o="000000"+f.toString(16);o=o.substr(o.length-6);var u="0"+Pe(n*255).toString(16);switch(u=u.substr(u.length-2),l.toLowerCase()){case"rgba":return"#"+o+u;case"argb":return"#"+u+o;default:return"#"+o}},Aa=vn,hn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,gn=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,dn=function(r){if(r.match(hn)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),a=e>>16,t=e>>8&255,i=e&255;return[a,t,i,1]}if(r.match(gn)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var s=parseInt(r,16),n=s>>24&255,l=s>>16&255,f=s>>8&255,o=Math.round((s&255)/255*100)/100;return[n,l,f,o]}throw new Error("unknown hex color: "+r)},Ta=dn,bn=Y,Pa=k,pn=c.type,Ia=d,mn=Aa;Pa.prototype.hex=function(r){return mn(this._rgb,r)},bn.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Pa,[null].concat(r,["hex"])))},Ia.format.hex=Ta,Ia.autodetect.push({p:4,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&pn(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var _n=c.unpack,Sa=c.TWOPI,yn=Math.min,kn=Math.sqrt,wn=Math.acos,$n=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=_n(r,"rgb"),t=a[0],i=a[1],s=a[2];t/=255,i/=255,s/=255;var n,l=yn(t,i,s),f=(t+i+s)/3,o=f>0?1-l/f:0;return o===0?n=NaN:(n=(t-i+(t-s))/2,n/=kn((t-i)*(t-i)+(t-s)*(i-s)),n=wn(n),s>i&&(n=Sa-n),n/=Sa),[n*360,o,f]},xn=$n,Mn=c.unpack,Oe=c.limit,Qr=c.TWOPI,He=c.PITHIRD,Kr=Math.cos,En=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Mn(r,"hsi");var a=r[0],t=r[1],i=r[2],s,n,l;return isNaN(a)&&(a=0),isNaN(t)&&(t=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(l=(1-t)/3,s=(1+t*Kr(Qr*a)/Kr(He-Qr*a))/3,n=1-(l+s)):a<2/3?(a-=1/3,s=(1-t)/3,n=(1+t*Kr(Qr*a)/Kr(He-Qr*a))/3,l=1-(s+n)):(a-=2/3,n=(1-t)/3,l=(1+t*Kr(Qr*a)/Kr(He-Qr*a))/3,s=1-(n+l)),s=Oe(i*s*3),n=Oe(i*n*3),l=Oe(i*l*3),[s*255,n*255,l*255,r.length>3?r[3]:1]},Cn=En,Nn=c.unpack,An=c.type,Tn=Y,Fa=k,za=d,Pn=xn;Fa.prototype.hsi=function(){return Pn(this._rgb)},Tn.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Fa,[null].concat(r,["hsi"])))},za.format.hsi=Cn,za.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Nn(r,"hsi"),An(r)==="array"&&r.length===3)return"hsi"}});var In=c.unpack,Sn=c.type,Fn=Y,Ra=k,Da=d,zn=de;Ra.prototype.hsl=function(){return zn(this._rgb)},Fn.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ra,[null].concat(r,["hsl"])))},Da.format.hsl=be,Da.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=In(r,"hsl"),Sn(r)==="array"&&r.length===3)return"hsl"}});var Rn=c.unpack,Dn=Math.min,Ln=Math.max,Gn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Rn(r,"rgb");var a=r[0],t=r[1],i=r[2],s=Dn(a,t,i),n=Ln(a,t,i),l=n-s,f,o,u;return u=n/255,n===0?(f=Number.NaN,o=0):(o=l/n,a===n&&(f=(t-i)/l),t===n&&(f=2+(i-a)/l),i===n&&(f=4+(a-t)/l),f*=60,f<0&&(f+=360)),[f,o,u]},qn=Gn,On=c.unpack,Hn=Math.floor,Bn=function(){for(var r,e,a,t,i,s,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=On(n,"hsv");var f=n[0],o=n[1],u=n[2],b,v,y;if(u*=255,o===0)b=v=y=u;else{f===360&&(f=0),f>360&&(f-=360),f<0&&(f+=360),f/=60;var _=Hn(f),C=f-_,I=u*(1-o),z=u*(1-o*C),O=u*(1-o*(1-C));switch(_){case 0:r=[u,O,I],b=r[0],v=r[1],y=r[2];break;case 1:e=[z,u,I],b=e[0],v=e[1],y=e[2];break;case 2:a=[I,u,O],b=a[0],v=a[1],y=a[2];break;case 3:t=[I,z,u],b=t[0],v=t[1],y=t[2];break;case 4:i=[O,I,u],b=i[0],v=i[1],y=i[2];break;case 5:s=[u,I,z],b=s[0],v=s[1],y=s[2];break}}return[b,v,y,n.length>3?n[3]:1]},Wn=Bn,Xn=c.unpack,Yn=c.type,Vn=Y,La=k,Ga=d,Un=qn;La.prototype.hsv=function(){return Un(this._rgb)},Vn.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(La,[null].concat(r,["hsv"])))},Ga.format.hsv=Wn,Ga.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Xn(r,"hsv"),Yn(r)==="array"&&r.length===3)return"hsv"}});var Ie={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},re=Ie,Zn=c.unpack,qa=Math.pow,jn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Zn(r,"rgb"),t=a[0],i=a[1],s=a[2],n=Jn(t,i,s),l=n[0],f=n[1],o=n[2],u=116*f-16;return[u<0?0:u,500*(l-f),200*(f-o)]},Be=function(r){return(r/=255)<=.04045?r/12.92:qa((r+.055)/1.055,2.4)},We=function(r){return r>re.t3?qa(r,1/3):r/re.t2+re.t0},Jn=function(r,e,a){r=Be(r),e=Be(e),a=Be(a);var t=We((.4124564*r+.3575761*e+.1804375*a)/re.Xn),i=We((.2126729*r+.7151522*e+.072175*a)/re.Yn),s=We((.0193339*r+.119192*e+.9503041*a)/re.Zn);return[t,i,s]},Oa=jn,ee=Ie,Qn=c.unpack,Kn=Math.pow,ri=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Qn(r,"lab");var a=r[0],t=r[1],i=r[2],s,n,l,f,o,u;return n=(a+16)/116,s=isNaN(t)?n:n+t/500,l=isNaN(i)?n:n-i/200,n=ee.Yn*Ye(n),s=ee.Xn*Ye(s),l=ee.Zn*Ye(l),f=Xe(3.2404542*s-1.5371385*n-.4985314*l),o=Xe(-.969266*s+1.8760108*n+.041556*l),u=Xe(.0556434*s-.2040259*n+1.0572252*l),[f,o,u,r.length>3?r[3]:1]},Xe=function(r){return 255*(r<=.00304?12.92*r:1.055*Kn(r,1/2.4)-.055)},Ye=function(r){return r>ee.t1?r*r*r:ee.t2*(r-ee.t0)},Ha=ri,ei=c.unpack,ai=c.type,ti=Y,Ba=k,Wa=d,ni=Oa;Ba.prototype.lab=function(){return ni(this._rgb)},ti.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ba,[null].concat(r,["lab"])))},Wa.format.lab=Ha,Wa.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ei(r,"lab"),ai(r)==="array"&&r.length===3)return"lab"}});var ii=c.unpack,si=c.RAD2DEG,li=Math.sqrt,fi=Math.atan2,oi=Math.round,ui=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ii(r,"lab"),t=a[0],i=a[1],s=a[2],n=li(i*i+s*s),l=(fi(s,i)*si+360)%360;return oi(n*1e4)===0&&(l=Number.NaN),[t,n,l]},Xa=ui,ci=c.unpack,vi=Oa,hi=Xa,gi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ci(r,"rgb"),t=a[0],i=a[1],s=a[2],n=vi(t,i,s),l=n[0],f=n[1],o=n[2];return hi(l,f,o)},di=gi,bi=c.unpack,pi=c.DEG2RAD,mi=Math.sin,_i=Math.cos,yi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=bi(r,"lch"),t=a[0],i=a[1],s=a[2];return isNaN(s)&&(s=0),s=s*pi,[t,_i(s)*i,mi(s)*i]},Ya=yi,ki=c.unpack,wi=Ya,$i=Ha,xi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ki(r,"lch");var a=r[0],t=r[1],i=r[2],s=wi(a,t,i),n=s[0],l=s[1],f=s[2],o=$i(n,l,f),u=o[0],b=o[1],v=o[2];return[u,b,v,r.length>3?r[3]:1]},Va=xi,Mi=c.unpack,Ei=Va,Ci=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Mi(r,"hcl").reverse();return Ei.apply(void 0,a)},Ni=Ci,Ai=c.unpack,Ti=c.type,Ua=Y,Se=k,Ve=d,Za=di;Se.prototype.lch=function(){return Za(this._rgb)},Se.prototype.hcl=function(){return Za(this._rgb).reverse()},Ua.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Se,[null].concat(r,["lch"])))},Ua.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Se,[null].concat(r,["hcl"])))},Ve.format.lch=Va,Ve.format.hcl=Ni,["lch","hcl"].forEach(function(r){return Ve.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Ai(e,r),Ti(e)==="array"&&e.length===3)return r}})});var Pi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ja=Pi,Ii=k,Ja=d,Si=c.type,ye=ja,Fi=Ta,zi=Aa;Ii.prototype.name=function(){for(var r=zi(this._rgb,"rgb"),e=0,a=Object.keys(ye);e<a.length;e+=1){var t=a[e];if(ye[t]===r)return t.toLowerCase()}return r},Ja.format.named=function(r){if(r=r.toLowerCase(),ye[r])return Fi(ye[r]);throw new Error("unknown color name: "+r)},Ja.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Si(r)==="string"&&ye[r.toLowerCase()])return"named"}});var Ri=c.unpack,Di=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ri(r,"rgb"),t=a[0],i=a[1],s=a[2];return(t<<16)+(i<<8)+s},Li=Di,Gi=c.type,qi=function(r){if(Gi(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,a=r>>8&255,t=r&255;return[e,a,t,1]}throw new Error("unknown num color: "+r)},Oi=qi,Hi=Y,Qa=k,Ka=d,Bi=c.type,Wi=Li;Qa.prototype.num=function(){return Wi(this._rgb)},Hi.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Qa,[null].concat(r,["num"])))},Ka.format.num=Oi,Ka.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&Bi(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var Xi=Y,Ue=k,rt=d,et=c.unpack,at=c.type,tt=Math.round;Ue.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(tt)},Ue.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,a){return a<3?r===!1?e:tt(e):e})},Xi.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ue,[null].concat(r,["rgb"])))},rt.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=et(r,"rgba");return a[3]===void 0&&(a[3]=1),a},rt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=et(r,"rgba"),at(r)==="array"&&(r.length===3||r.length===4&&at(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var Fe=Math.log,Yi=function(r){var e=r/100,a,t,i;return e<66?(a=255,t=e<6?0:-155.25485562709179-.44596950469579133*(t=e-2)+104.49216199393888*Fe(t),i=e<20?0:-254.76935184120902+.8274096064007395*(i=e-10)+115.67994401066147*Fe(i)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*Fe(a),t=325.4494125711974+.07943456536662342*(t=e-50)-28.0852963507957*Fe(t),i=255),[a,t,i,1]},nt=Yi,Vi=nt,Ui=c.unpack,Zi=Math.round,ji=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var a=Ui(r,"rgb"),t=a[0],i=a[2],s=1e3,n=4e4,l=.4,f;n-s>l;){f=(n+s)*.5;var o=Vi(f);o[2]/o[0]>=i/t?n=f:s=f}return Zi(f)},Ji=ji,Ze=Y,ze=k,je=d,Qi=Ji;ze.prototype.temp=ze.prototype.kelvin=ze.prototype.temperature=function(){return Qi(this._rgb)},Ze.temp=Ze.kelvin=Ze.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ze,[null].concat(r,["temp"])))},je.format.temp=je.format.kelvin=je.format.temperature=nt;var Ki=c.unpack,Je=Math.cbrt,rs=Math.pow,es=Math.sign,as=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ki(r,"rgb"),t=a[0],i=a[1],s=a[2],n=[Qe(t/255),Qe(i/255),Qe(s/255)],l=n[0],f=n[1],o=n[2],u=Je(.4122214708*l+.5363325363*f+.0514459929*o),b=Je(.2119034982*l+.6806995451*f+.1073969566*o),v=Je(.0883024619*l+.2817188376*f+.6299787005*o);return[.2104542553*u+.793617785*b-.0040720468*v,1.9779984951*u-2.428592205*b+.4505937099*v,.0259040371*u+.7827717662*b-.808675766*v]},it=as;function Qe(r){var e=Math.abs(r);return e<.04045?r/12.92:(es(r)||1)*rs((e+.055)/1.055,2.4)}var ts=c.unpack,Re=Math.pow,ns=Math.sign,is=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ts(r,"lab");var a=r[0],t=r[1],i=r[2],s=Re(a+.3963377774*t+.2158037573*i,3),n=Re(a-.1055613458*t-.0638541728*i,3),l=Re(a-.0894841775*t-1.291485548*i,3);return[255*Ke(4.0767416621*s-3.3077115913*n+.2309699292*l),255*Ke(-1.2684380046*s+2.6097574011*n-.3413193965*l),255*Ke(-.0041960863*s-.7034186147*n+1.707614701*l),r.length>3?r[3]:1]},st=is;function Ke(r){var e=Math.abs(r);return e>.0031308?(ns(r)||1)*(1.055*Re(e,1/2.4)-.055):r*12.92}var ss=c.unpack,ls=c.type,fs=Y,lt=k,ft=d,os=it;lt.prototype.oklab=function(){return os(this._rgb)},fs.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(lt,[null].concat(r,["oklab"])))},ft.format.oklab=st,ft.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ss(r,"oklab"),ls(r)==="array"&&r.length===3)return"oklab"}});var us=c.unpack,cs=it,vs=Xa,hs=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=us(r,"rgb"),t=a[0],i=a[1],s=a[2],n=cs(t,i,s),l=n[0],f=n[1],o=n[2];return vs(l,f,o)},gs=hs,ds=c.unpack,bs=Ya,ps=st,ms=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ds(r,"lch");var a=r[0],t=r[1],i=r[2],s=bs(a,t,i),n=s[0],l=s[1],f=s[2],o=ps(n,l,f),u=o[0],b=o[1],v=o[2];return[u,b,v,r.length>3?r[3]:1]},_s=ms,ys=c.unpack,ks=c.type,ws=Y,ot=k,ut=d,$s=gs;ot.prototype.oklch=function(){return $s(this._rgb)},ws.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ot,[null].concat(r,["oklch"])))},ut.format.oklch=_s,ut.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ys(r,"oklch"),ks(r)==="array"&&r.length===3)return"oklch"}});var ct=k,xs=c.type;ct.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&xs(r)==="number"?e?(this._rgb[3]=r,this):new ct([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var Ms=k;Ms.prototype.clipped=function(){return this._rgb._clipped||!1};var Hr=k,Es=Ie;Hr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,a=e.lab();return a[0]-=Es.Kn*r,new Hr(a,"lab").alpha(e.alpha(),!0)},Hr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},Hr.prototype.darker=Hr.prototype.darken,Hr.prototype.brighter=Hr.prototype.brighten;var Cs=k;Cs.prototype.get=function(r){var e=r.split("."),a=e[0],t=e[1],i=this[a]();if(t){var s=a.indexOf(t)-(a.substr(0,2)==="ok"?2:0);if(s>-1)return i[s];throw new Error("unknown channel "+t+" in mode "+a)}else return i};var ae=k,Ns=c.type,As=Math.pow,Ts=1e-7,Ps=20;ae.prototype.luminance=function(r){if(r!==void 0&&Ns(r)==="number"){if(r===0)return new ae([0,0,0,this._rgb[3]],"rgb");if(r===1)return new ae([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),a="rgb",t=Ps,i=function(n,l){var f=n.interpolate(l,.5,a),o=f.luminance();return Math.abs(r-o)<Ts||!t--?f:o>r?i(n,f):i(f,l)},s=(e>r?i(new ae([0,0,0]),this):i(this,new ae([255,255,255]))).rgb();return new ae(s.concat([this._rgb[3]]))}return Is.apply(void 0,this._rgb.slice(0,3))};var Is=function(r,e,a){return r=ra(r),e=ra(e),a=ra(a),.2126*r+.7152*e+.0722*a},ra=function(r){return r/=255,r<=.03928?r/12.92:As((r+.055)/1.055,2.4)},pr={},vt=k,ht=c.type,De=pr,gt=function(r,e,a){a===void 0&&(a=.5);for(var t=[],i=arguments.length-3;i-- >0;)t[i]=arguments[i+3];var s=t[0]||"lrgb";if(!De[s]&&!t.length&&(s=Object.keys(De)[0]),!De[s])throw new Error("interpolation mode "+s+" is not defined");return ht(r)!=="object"&&(r=new vt(r)),ht(e)!=="object"&&(e=new vt(e)),De[s](r,e,a).alpha(r.alpha()+a*(e.alpha()-r.alpha()))},dt=k,Ss=gt;dt.prototype.mix=dt.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var a=[],t=arguments.length-2;t-- >0;)a[t]=arguments[t+2];return Ss.apply(void 0,[this,r,e].concat(a))};var bt=k;bt.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,a=e[3];return r?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new bt([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};var ea=k,Fs=Ie;ea.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,a=e.lch();return a[1]+=Fs.Kn*r,a[1]<0&&(a[1]=0),new ea(a,"lch").alpha(e.alpha(),!0)},ea.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var pt=k,mt=c.type;pt.prototype.set=function(r,e,a){a===void 0&&(a=!1);var t=r.split("."),i=t[0],s=t[1],n=this[i]();if(s){var l=i.indexOf(s)-(i.substr(0,2)==="ok"?2:0);if(l>-1){if(mt(e)=="string")switch(e.charAt(0)){case"+":n[l]+=+e;break;case"-":n[l]+=+e;break;case"*":n[l]*=+e.substr(1);break;case"/":n[l]/=+e.substr(1);break;default:n[l]=+e}else if(mt(e)==="number")n[l]=e;else throw new Error("unsupported value for Color.set");var f=new pt(n,i);return a?(this._rgb=f._rgb,this):f}throw new Error("unknown channel "+s+" in mode "+i)}else return n};var zs=k,Rs=function(r,e,a){var t=r._rgb,i=e._rgb;return new zs(t[0]+a*(i[0]-t[0]),t[1]+a*(i[1]-t[1]),t[2]+a*(i[2]-t[2]),"rgb")};pr.rgb=Rs;var Ds=k,aa=Math.sqrt,te=Math.pow,Ls=function(r,e,a){var t=r._rgb,i=t[0],s=t[1],n=t[2],l=e._rgb,f=l[0],o=l[1],u=l[2];return new Ds(aa(te(i,2)*(1-a)+te(f,2)*a),aa(te(s,2)*(1-a)+te(o,2)*a),aa(te(n,2)*(1-a)+te(u,2)*a),"rgb")};pr.lrgb=Ls;var Gs=k,qs=function(r,e,a){var t=r.lab(),i=e.lab();return new Gs(t[0]+a*(i[0]-t[0]),t[1]+a*(i[1]-t[1]),t[2]+a*(i[2]-t[2]),"lab")};pr.lab=qs;var _t=k,ne=function(r,e,a,t){var i,s,n,l;t==="hsl"?(n=r.hsl(),l=e.hsl()):t==="hsv"?(n=r.hsv(),l=e.hsv()):t==="hcg"?(n=r.hcg(),l=e.hcg()):t==="hsi"?(n=r.hsi(),l=e.hsi()):t==="lch"||t==="hcl"?(t="hcl",n=r.hcl(),l=e.hcl()):t==="oklch"&&(n=r.oklch().reverse(),l=e.oklch().reverse());var f,o,u,b,v,y;(t.substr(0,1)==="h"||t==="oklch")&&(i=n,f=i[0],u=i[1],v=i[2],s=l,o=s[0],b=s[1],y=s[2]);var _,C,I,z;return!isNaN(f)&&!isNaN(o)?(o>f&&o-f>180?z=o-(f+360):o<f&&f-o>180?z=o+360-f:z=o-f,C=f+a*z):isNaN(f)?isNaN(o)?C=Number.NaN:(C=o,(v==1||v==0)&&t!="hsv"&&(_=b)):(C=f,(y==1||y==0)&&t!="hsv"&&(_=u)),_===void 0&&(_=u+a*(b-u)),I=v+a*(y-v),t==="oklch"?new _t([I,_,C],t):new _t([C,_,I],t)},Os=ne,yt=function(r,e,a){return Os(r,e,a,"lch")};pr.lch=yt,pr.hcl=yt;var Hs=k,Bs=function(r,e,a){var t=r.num(),i=e.num();return new Hs(t+a*(i-t),"num")};pr.num=Bs;var Ws=ne,Xs=function(r,e,a){return Ws(r,e,a,"hcg")};pr.hcg=Xs;var Ys=ne,Vs=function(r,e,a){return Ys(r,e,a,"hsi")};pr.hsi=Vs;var Us=ne,Zs=function(r,e,a){return Us(r,e,a,"hsl")};pr.hsl=Zs;var js=ne,Js=function(r,e,a){return js(r,e,a,"hsv")};pr.hsv=Js;var Qs=k,Ks=function(r,e,a){var t=r.oklab(),i=e.oklab();return new Qs(t[0]+a*(i[0]-t[0]),t[1]+a*(i[1]-t[1]),t[2]+a*(i[2]-t[2]),"oklab")};pr.oklab=Ks;var rl=ne,el=function(r,e,a){return rl(r,e,a,"oklch")};pr.oklch=el;var ta=k,al=c.clip_rgb,na=Math.pow,ia=Math.sqrt,sa=Math.PI,kt=Math.cos,wt=Math.sin,tl=Math.atan2,nl=function(r,e,a){e===void 0&&(e="lrgb"),a===void 0&&(a=null);var t=r.length;a||(a=Array.from(new Array(t)).map(function(){return 1}));var i=t/a.reduce(function(C,I){return C+I});if(a.forEach(function(C,I){a[I]*=i}),r=r.map(function(C){return new ta(C)}),e==="lrgb")return il(r,a);for(var s=r.shift(),n=s.get(e),l=[],f=0,o=0,u=0;u<n.length;u++)if(n[u]=(n[u]||0)*a[0],l.push(isNaN(n[u])?0:a[0]),e.charAt(u)==="h"&&!isNaN(n[u])){var b=n[u]/180*sa;f+=kt(b)*a[0],o+=wt(b)*a[0]}var v=s.alpha()*a[0];r.forEach(function(C,I){var z=C.get(e);v+=C.alpha()*a[I+1];for(var O=0;O<n.length;O++)if(!isNaN(z[O]))if(l[O]+=a[I+1],e.charAt(O)==="h"){var ur=z[O]/180*sa;f+=kt(ur)*a[I+1],o+=wt(ur)*a[I+1]}else n[O]+=z[O]*a[I+1]});for(var y=0;y<n.length;y++)if(e.charAt(y)==="h"){for(var _=tl(o/l[y],f/l[y])/sa*180;_<0;)_+=360;for(;_>=360;)_-=360;n[y]=_}else n[y]=n[y]/l[y];return v/=t,new ta(n,e).alpha(v>.99999?1:v,!0)},il=function(r,e){for(var a=r.length,t=[0,0,0,0],i=0;i<r.length;i++){var s=r[i],n=e[i]/a,l=s._rgb;t[0]+=na(l[0],2)*n,t[1]+=na(l[1],2)*n,t[2]+=na(l[2],2)*n,t[3]+=l[3]*n}return t[0]=ia(t[0]),t[1]=ia(t[1]),t[2]=ia(t[2]),t[3]>.9999999&&(t[3]=1),new ta(al(t))},mr=Y,ie=c.type,sl=Math.pow,la=function(r){var e="rgb",a=mr("#ccc"),t=0,i=[0,1],s=[],n=[0,0],l=!1,f=[],o=!1,u=0,b=1,v=!1,y={},_=!0,C=1,I=function(h){if(h=h||["#fff","#000"],h&&ie(h)==="string"&&mr.brewer&&mr.brewer[h.toLowerCase()]&&(h=mr.brewer[h.toLowerCase()]),ie(h)==="array"){h.length===1&&(h=[h[0],h[0]]),h=h.slice(0);for(var x=0;x<h.length;x++)h[x]=mr(h[x]);s.length=0;for(var A=0;A<h.length;A++)s.push(A/(h.length-1))}return dr(),f=h},z=function(h){if(l!=null){for(var x=l.length-1,A=0;A<x&&h>=l[A];)A++;return A-1}return 0},O=function(h){return h},ur=function(h){return h},lr=function(h,x){var A,N;if(x==null&&(x=!1),isNaN(h)||h===null)return a;if(x)N=h;else if(l&&l.length>2){var cr=z(h);N=cr/(l.length-2)}else b!==u?N=(h-u)/(b-u):N=1;N=ur(N),x||(N=O(N)),C!==1&&(N=sl(N,C)),N=n[0]+N*(1-n[0]-n[1]),N=Math.min(1,Math.max(0,N));var U=Math.floor(N*1e4);if(_&&y[U])A=y[U];else{if(ie(f)==="array")for(var R=0;R<s.length;R++){var B=s[R];if(N<=B){A=f[R];break}if(N>=B&&R===s.length-1){A=f[R];break}if(N>B&&N<s[R+1]){N=(N-B)/(s[R+1]-B),A=mr.interpolate(f[R],f[R+1],N,e);break}}else ie(f)==="function"&&(A=f(N));_&&(y[U]=A)}return A},dr=function(){return y={}};I(r);var S=function(h){var x=mr(lr(h));return o&&x[o]?x[o]():x};return S.classes=function(h){if(h!=null){if(ie(h)==="array")l=h,i=[h[0],h[h.length-1]];else{var x=mr.analyze(i);h===0?l=[x.min,x.max]:l=mr.limits(x,"e",h)}return S}return l},S.domain=function(h){if(!arguments.length)return i;u=h[0],b=h[h.length-1],s=[];var x=f.length;if(h.length===x&&u!==b)for(var A=0,N=Array.from(h);A<N.length;A+=1){var cr=N[A];s.push((cr-u)/(b-u))}else{for(var U=0;U<x;U++)s.push(U/(x-1));if(h.length>2){var R=h.map(function(W,X){return X/(h.length-1)}),B=h.map(function(W){return(W-u)/(b-u)});B.every(function(W,X){return R[X]===W})||(ur=function(W){if(W<=0||W>=1)return W;for(var X=0;W>=B[X+1];)X++;var yr=(W-B[X])/(B[X+1]-B[X]),Dr=R[X]+yr*(R[X+1]-R[X]);return Dr})}}return i=[u,b],S},S.mode=function(h){return arguments.length?(e=h,dr(),S):e},S.range=function(h,x){return I(h),S},S.out=function(h){return o=h,S},S.spread=function(h){return arguments.length?(t=h,S):t},S.correctLightness=function(h){return h==null&&(h=!0),v=h,dr(),v?O=function(x){for(var A=lr(0,!0).lab()[0],N=lr(1,!0).lab()[0],cr=A>N,U=lr(x,!0).lab()[0],R=A+(N-A)*x,B=U-R,W=0,X=1,yr=20;Math.abs(B)>.01&&yr-- >0;)(function(){return cr&&(B*=-1),B<0?(W=x,x+=(X-x)*.5):(X=x,x+=(W-x)*.5),U=lr(x,!0).lab()[0],B=U-R})();return x}:O=function(x){return x},S},S.padding=function(h){return h!=null?(ie(h)==="number"&&(h=[h,h]),n=h,S):n},S.colors=function(h,x){arguments.length<2&&(x="hex");var A=[];if(arguments.length===0)A=f.slice(0);else if(h===1)A=[S(.5)];else if(h>1){var N=i[0],cr=i[1]-N;A=ll(0,h,!1).map(function(X){return S(N+X/(h-1)*cr)})}else{r=[];var U=[];if(l&&l.length>2)for(var R=1,B=l.length,W=1<=B;W?R<B:R>B;W?R++:R--)U.push((l[R-1]+l[R])*.5);else U=i;A=U.map(function(X){return S(X)})}return mr[x]&&(A=A.map(function(X){return X[x]()})),A},S.cache=function(h){return h!=null?(_=h,S):_},S.gamma=function(h){return h!=null?(C=h,S):C},S.nodata=function(h){return h!=null?(a=mr(h),S):a},S};function ll(r,e,a){for(var t=[],i=r<e,s=a?i?e+1:e-1:e,n=r;i?n<s:n>s;i?n++:n--)t.push(n);return t}var ke=k,fl=la,ol=function(r){for(var e=[1,1],a=1;a<r;a++){for(var t=[1],i=1;i<=e.length;i++)t[i]=(e[i]||0)+e[i-1];e=t}return e},ul=function(r){var e,a,t,i,s,n,l;if(r=r.map(function(v){return new ke(v)}),r.length===2)e=r.map(function(v){return v.lab()}),s=e[0],n=e[1],i=function(v){var y=[0,1,2].map(function(_){return s[_]+v*(n[_]-s[_])});return new ke(y,"lab")};else if(r.length===3)a=r.map(function(v){return v.lab()}),s=a[0],n=a[1],l=a[2],i=function(v){var y=[0,1,2].map(function(_){return(1-v)*(1-v)*s[_]+2*(1-v)*v*n[_]+v*v*l[_]});return new ke(y,"lab")};else if(r.length===4){var f;t=r.map(function(v){return v.lab()}),s=t[0],n=t[1],l=t[2],f=t[3],i=function(v){var y=[0,1,2].map(function(_){return(1-v)*(1-v)*(1-v)*s[_]+3*(1-v)*(1-v)*v*n[_]+3*(1-v)*v*v*l[_]+v*v*v*f[_]});return new ke(y,"lab")}}else if(r.length>=5){var o,u,b;o=r.map(function(v){return v.lab()}),b=r.length-1,u=ol(b),i=function(v){var y=1-v,_=[0,1,2].map(function(C){return o.reduce(function(I,z,O){return I+u[O]*Math.pow(y,b-O)*Math.pow(v,O)*z[C]},0)});return new ke(_,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return i},cl=function(r){var e=ul(r);return e.scale=function(){return fl(e)},e},fa=Y,_r=function(r,e,a){if(!_r[a])throw new Error("unknown blend mode "+a);return _r[a](r,e)},zr=function(r){return function(e,a){var t=fa(a).rgb(),i=fa(e).rgb();return fa.rgb(r(t,i))}},Rr=function(r){return function(e,a){var t=[];return t[0]=r(e[0],a[0]),t[1]=r(e[1],a[1]),t[2]=r(e[2],a[2]),t}},vl=function(r){return r},hl=function(r,e){return r*e/255},gl=function(r,e){return r>e?e:r},dl=function(r,e){return r>e?r:e},bl=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},pl=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},ml=function(r,e){return 255*(1-(1-e/255)/(r/255))},_l=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};_r.normal=zr(Rr(vl)),_r.multiply=zr(Rr(hl)),_r.screen=zr(Rr(bl)),_r.overlay=zr(Rr(pl)),_r.darken=zr(Rr(gl)),_r.lighten=zr(Rr(dl)),_r.dodge=zr(Rr(_l)),_r.burn=zr(Rr(ml));for(var yl=_r,oa=c.type,kl=c.clip_rgb,wl=c.TWOPI,$l=Math.pow,xl=Math.sin,Ml=Math.cos,$t=Y,El=function(r,e,a,t,i){r===void 0&&(r=300),e===void 0&&(e=-1.5),a===void 0&&(a=1),t===void 0&&(t=1),i===void 0&&(i=[0,1]);var s=0,n;oa(i)==="array"?n=i[1]-i[0]:(n=0,i=[i,i]);var l=function(f){var o=wl*((r+120)/360+e*f),u=$l(i[0]+n*f,t),b=s!==0?a[0]+f*s:a,v=b*u*(1-u)/2,y=Ml(o),_=xl(o),C=u+v*(-.14861*y+1.78277*_),I=u+v*(-.29227*y-.90649*_),z=u+v*(1.97294*y);return $t(kl([C*255,I*255,z*255,1]))};return l.start=function(f){return f==null?r:(r=f,l)},l.rotations=function(f){return f==null?e:(e=f,l)},l.gamma=function(f){return f==null?t:(t=f,l)},l.hue=function(f){return f==null?a:(a=f,oa(a)==="array"?(s=a[1]-a[0],s===0&&(a=a[1])):s=0,l)},l.lightness=function(f){return f==null?i:(oa(f)==="array"?(i=f,n=f[1]-f[0]):(i=[f,f],n=0),l)},l.scale=function(){return $t.scale(l)},l.hue(a),l},Cl=k,Nl="0123456789abcdef",Al=Math.floor,Tl=Math.random,Pl=function(){for(var r="#",e=0;e<6;e++)r+=Nl.charAt(Al(Tl()*16));return new Cl(r,"hex")},ua=Q,xt=Math.log,Il=Math.pow,Sl=Math.floor,Fl=Math.abs,Mt=function(r,e){e===void 0&&(e=null);var a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ua(r)==="object"&&(r=Object.values(r)),r.forEach(function(t){e&&ua(t)==="object"&&(t=t[e]),t!=null&&!isNaN(t)&&(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)}),a.domain=[a.min,a.max],a.limits=function(t,i){return Et(a,t,i)},a},Et=function(r,e,a){e===void 0&&(e="equal"),a===void 0&&(a=7),ua(r)=="array"&&(r=Mt(r));var t=r.min,i=r.max,s=r.values.sort(function(va,ha){return va-ha});if(a===1)return[t,i];var n=[];if(e.substr(0,1)==="c"&&(n.push(t),n.push(i)),e.substr(0,1)==="e"){n.push(t);for(var l=1;l<a;l++)n.push(t+l/a*(i-t));n.push(i)}else if(e.substr(0,1)==="l"){if(t<=0)throw new Error("Logarithmic scales are only possible for values > 0");var f=Math.LOG10E*xt(t),o=Math.LOG10E*xt(i);n.push(t);for(var u=1;u<a;u++)n.push(Il(10,f+u/a*(o-f)));n.push(i)}else if(e.substr(0,1)==="q"){n.push(t);for(var b=1;b<a;b++){var v=(s.length-1)*b/a,y=Sl(v);if(y===v)n.push(s[y]);else{var _=v-y;n.push(s[y]*(1-_)+s[y+1]*_)}}n.push(i)}else if(e.substr(0,1)==="k"){var C,I=s.length,z=new Array(I),O=new Array(a),ur=!0,lr=0,dr=null;dr=[],dr.push(t);for(var S=1;S<a;S++)dr.push(t+S/a*(i-t));for(dr.push(i);ur;){for(var h=0;h<a;h++)O[h]=0;for(var x=0;x<I;x++)for(var A=s[x],N=Number.MAX_VALUE,cr=void 0,U=0;U<a;U++){var R=Fl(dr[U]-A);R<N&&(N=R,cr=U),O[cr]++,z[x]=cr}for(var B=new Array(a),W=0;W<a;W++)B[W]=null;for(var X=0;X<I;X++)C=z[X],B[C]===null?B[C]=s[X]:B[C]+=s[X];for(var yr=0;yr<a;yr++)B[yr]*=1/O[yr];ur=!1;for(var Dr=0;Dr<a;Dr++)if(B[Dr]!==dr[Dr]){ur=!0;break}dr=B,lr++,lr>200&&(ur=!1)}for(var Lr={},se=0;se<a;se++)Lr[se]=[];for(var le=0;le<I;le++)C=z[le],Lr[C].push(s[le]);for(var Pr=[],Br=0;Br<a;Br++)Pr.push(Lr[Br][0]),Pr.push(Lr[Br][Lr[Br].length-1]);Pr=Pr.sort(function(va,ha){return va-ha}),n.push(Pr[0]);for(var we=1;we<Pr.length;we+=2){var Wr=Pr[we];!isNaN(Wr)&&n.indexOf(Wr)===-1&&n.push(Wr)}}return n},Ct={analyze:Mt,limits:Et},Nt=k,zl=function(r,e){r=new Nt(r),e=new Nt(e);var a=r.luminance(),t=e.luminance();return a>t?(a+.05)/(t+.05):(t+.05)/(a+.05)},At=k,Tr=Math.sqrt,er=Math.pow,Rl=Math.min,Dl=Math.max,Tt=Math.atan2,Pt=Math.abs,Le=Math.cos,It=Math.sin,Ll=Math.exp,St=Math.PI,Gl=function(r,e,a,t,i){a===void 0&&(a=1),t===void 0&&(t=1),i===void 0&&(i=1);var s=function(Wr){return 360*Wr/(2*St)},n=function(Wr){return 2*St*Wr/360};r=new At(r),e=new At(e);var l=Array.from(r.lab()),f=l[0],o=l[1],u=l[2],b=Array.from(e.lab()),v=b[0],y=b[1],_=b[2],C=(f+v)/2,I=Tr(er(o,2)+er(u,2)),z=Tr(er(y,2)+er(_,2)),O=(I+z)/2,ur=.5*(1-Tr(er(O,7)/(er(O,7)+er(25,7)))),lr=o*(1+ur),dr=y*(1+ur),S=Tr(er(lr,2)+er(u,2)),h=Tr(er(dr,2)+er(_,2)),x=(S+h)/2,A=s(Tt(u,lr)),N=s(Tt(_,dr)),cr=A>=0?A:A+360,U=N>=0?N:N+360,R=Pt(cr-U)>180?(cr+U+360)/2:(cr+U)/2,B=1-.17*Le(n(R-30))+.24*Le(n(2*R))+.32*Le(n(3*R+6))-.2*Le(n(4*R-63)),W=U-cr;W=Pt(W)<=180?W:U<=cr?W+360:W-360,W=2*Tr(S*h)*It(n(W)/2);var X=v-f,yr=h-S,Dr=1+.015*er(C-50,2)/Tr(20+er(C-50,2)),Lr=1+.045*x,se=1+.015*x*B,le=30*Ll(-er((R-275)/25,2)),Pr=2*Tr(er(x,7)/(er(x,7)+er(25,7))),Br=-Pr*It(2*n(le)),we=Tr(er(X/(a*Dr),2)+er(yr/(t*Lr),2)+er(W/(i*se),2)+Br*(yr/(t*Lr))*(W/(i*se)));return Dl(0,Rl(100,we))},Ft=k,ql=function(r,e,a){a===void 0&&(a="lab"),r=new Ft(r),e=new Ft(e);var t=r.get(a),i=e.get(a),s=0;for(var n in t){var l=(t[n]||0)-(i[n]||0);s+=l*l}return Math.sqrt(s)},Ol=k,Hl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(Ol,[null].concat(r))),!0}catch{return!1}},zt=Y,Rt=la,Bl={cool:function(){return Rt([zt.hsl(180,1,.9),zt.hsl(250,.7,.4)])},hot:function(){return Rt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ge={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ca=0,Dt=Object.keys(Ge);ca<Dt.length;ca+=1){var Lt=Dt[ca];Ge[Lt.toLowerCase()]=Ge[Lt]}var Wl=Ge,sr=Y;sr.average=nl,sr.bezier=cl,sr.blend=yl,sr.cubehelix=El,sr.mix=sr.interpolate=gt,sr.random=Pl,sr.scale=la,sr.analyze=Ct.analyze,sr.contrast=zl,sr.deltaE=Gl,sr.distance=ql,sr.limits=Ct.limits,sr.valid=Hl,sr.scales=Bl,sr.colors=ja,sr.brewer=Wl;var Xl=sr;return Xl})})(rf);const $e=15,xe=17,p=35,H=p/2;function Bt(G,g){return G==g?2:G==Wt(g+1,4)?0:G==Wt(g-1,4)?1:3}function Wt(G,g){return(G%g+g)%g}class ef{constructor(){j(this,"snake");j(this,"moving");j(this,"direction");j(this,"food");j(this,"draw_list");j(this,"document");j(this,"window");j(this,"ctx");j(this,"last_tick_start");j(this,"last_move");j(this,"time_step");j(this,"inputs");j(this,"ate_food");j(this,"score");j(this,"high_score");j(this,"score_store");j(this,"high_score_store");j(this,"end_screen");j(this,"end_screen_store");this.snake=[new Er(4,7),new Er(5,7),new Er(6,7)],this.moving=!1,this.direction=0,this.food=new fe(12,7),this.draw_list=[],this.document=null,this.window=null,this.ctx=null,this.last_tick_start=null,this.last_move=null,this.time_step=0,this.inputs=[],this.ate_food=!1,this.score=0,this.high_score=0,this.score_store=da(0),this.high_score_store=da(0),this.end_screen=!1,this.end_screen_store=da("hidden")}snake_start(){return[new Er(4,7),new Er(5,7),new Er(6,7)]}food_start(){return new fe(12,7)}set_document_and_window(g,w){this.document=g,this.window=w}set_canvas(){if(this.document==null){console.error("Called before document instantiated");return}let g=this.document.getElementById("game_board");if(g==null){console.error("Wrong canvas ID");return}this.ctx=g.getContext("2d")}start_snake(){this.score=0,this.moving=!0}on_key_down(g){if(this.inputs.length>=3)return;let w;if(this.end_screen||(this.moving=!0),g.key=="ArrowDown"||g.key=="s")w=1;else if(g.key=="ArrowUp"||g.key=="w")w=3;else if(g.key=="ArrowLeft"||g.key=="a")w=2;else if(g.key=="ArrowRight"||g.key=="d")w=0;else return;this.inputs.length===0&&w%2!==this.direction%2?this.inputs.push(w):this.inputs.length!==0&&this.inputs[this.inputs.length-1]%2!==w%2&&this.inputs.push(w)}update_end_screen_visibility(){this.end_screen===!0?this.end_screen_store.set("visible"):this.end_screen_store.set("hidden")}game_loop(g){if(this.window==null){console.error("Window not instantiated before game loop started");return}if(this.moving){(this.last_tick_start==null||this.last_move==null)&&(this.last_tick_start=g,this.last_move=g),g-this.last_tick_start;let V=g-this.last_move;this.last_tick_start=g,V>120?(this.move(),this.last_move=g,this.time_step-=1):this.time_step=V/120}this.render();let w=this;window.requestAnimationFrame(function(V){w.game_loop(V)})}move(){let g,w=this.snake[this.snake.length-1];if(this.inputs.length!==0&&(this.direction=this.inputs[0],this.inputs.shift()),this.direction==0?g=new Er(w.x+1,w.y):this.direction==2?g=new Er(w.x-1,w.y):this.direction==1?g=new Er(w.x,w.y+1):g=new Er(w.x,w.y-1),g.x<0||g.y<0||g.x>=xe||g.y>=$e){this.moving=!1,this.end_screen=!0,this.update_end_screen_visibility();return}else if(this.snake.some(V=>V.x===g.x&&V.y===g.y)){console.log("hit tail"),this.moving=!1,this.end_screen=!0,this.update_end_screen_visibility();return}g.x===this.food.x&&g.y===this.food.y&&this.food_eaten(),this.snake.push(g),this.ate_food?this.ate_food=!1:this.snake.shift()}food_eaten(){for(this.score+=1,this.high_score=Math.max(this.score,this.high_score),this.score_store.set(this.score),this.high_score_store.set(this.high_score),this.food=new fe(Math.floor(Math.random()*xe),Math.floor(Math.random()*$e));this.snake.some(g=>g.x==this.food.x&&g.y==this.food.y);)this.food=new fe(Math.floor(Math.random()*xe),Math.floor(Math.random()*$e));this.ate_food=!0}play_again(){this.score=0,this.end_screen=!1,this.update_end_screen_visibility(),this.snake=this.snake_start(),this.food=this.food_start(),this.inputs=[],this.moving=!1,this.score_store.set(0),this.direction=0}render(){if(this.ctx==null){console.error("Render called before canvas context creation");return}this.ctx.clearRect(0,0,xe*p,$e*p),this.draw_background(),this.draw_food(),this.draw_snake()}draw_background(){if(this.document==null){console.error("Called before document instantiated");return}if(this.ctx==null){console.error("Called before canvas instantiated");return}const g=this.document.createElement("canvas"),w=g.getContext("2d");if(w==null)return;g.width=p*2,g.height=p*2,w.fillStyle="#3eed52",w.fillRect(0,0,p,p),w.fillRect(p,p,p,p),w.fillStyle="#31b540",w.fillRect(p,0,p,p),w.fillRect(0,p,p,p);const V=this.ctx.createPattern(g,"repeat");V!=null&&(this.ctx.fillStyle=V,this.ctx.fillRect(0,0,xe*p,$e*p))}draw_snake(){function g(m,E){return m.x-E.x>0?0:m.x-E.x<0?2:m.y-E.y>0?1:3}function w(m,E,c,d,$,q,P){return new fe(Math.pow(1-P,2)*m+2*(1-P)*P*c+Math.pow(P,2)*$,Math.pow(1-P,2)*E+2*(1-P)*P*d+Math.pow(P,2)*q)}function V(m,E,c,d,$,q,P){let L=m+(c-m)*P,or=E+(d-E)*P,k=c+($-c)*P,vr=d+(q-d)*P;return Math.atan2(vr-or,k-L)+Math.PI/2}function ir(m,E,c){return new fe(E.x+c*Math.cos(m),E.y+c*Math.sin(m))}if(this.ctx==null){console.error("draw_snake called before canvas context instantiated");return}let D=g(this.snake[1],this.snake[0]),K=D;const Z=25,hr=13,Q=.6/2,M=Q*this.snake.length*2>Z-hr?(Z-hr)/this.snake.length/2:Q,T=(p-Z)/2;let br=ba.scale(["#670a58","#0644af"]).mode("lch");for(let m=0;m<this.snake.length;m++){K=D,m!=this.snake.length-1&&(D=g(this.snake[m+1],this.snake[m]));let E,c=this.snake[m].turn_dir;if(c==2?(E=Bt(D,K),this.snake[m].turn_dir=E):c==null?(E=Bt(D,K),this.snake[m].turn_dir=E):E=c,E==2){let d=this.snake[m].x*p,$=this.snake[m].y*p,q=0,P=0,L=new Path2D,or=new Path2D,k=this.ctx.createLinearGradient(d,$+H,d+p,$+H);k.addColorStop(0,br((m-this.time_step)/this.snake.length).hex()),k.addColorStop(1,br((m+1-this.time_step)/this.snake.length).hex()),m==0?(L.moveTo(d+p*this.time_step,$+(T+(this.snake.length-m+this.time_step)*M)),L.lineTo(d+p*this.time_step,$+p-(T+(this.snake.length-m+this.time_step)*M)),L.lineTo(d+p,$+p-(T+(this.snake.length-m-1+this.time_step)*M)),L.lineTo(d+p,$+(T+(this.snake.length-m-1+this.time_step)*M))):m==this.snake.length-1?(L.moveTo(d,$+(T+(this.snake.length-m+this.time_step)*M)),L.lineTo(d,$+p-(T+(this.snake.length-m+this.time_step)*M)),L.lineTo(d+p*this.time_step,$+p-(T+(this.snake.length-m-1+this.time_step)*M)),L.lineTo(d+p*this.time_step,$+(T+(this.snake.length-m-1+this.time_step)*M))):(L.moveTo(d,$+(T+(this.snake.length-m+this.time_step)*M)),L.lineTo(d,$+p-(T+(this.snake.length-m+this.time_step)*M)),L.lineTo(d+p,$+p-(T+(this.snake.length-m-1+this.time_step)*M)),L.lineTo(d+p,$+(T+(this.snake.length-m-1+this.time_step)*M))),L.closePath(),m==0?(D==2?(q=d+p-p*this.time_step,P=$+H):D==0?(q=d+p*this.time_step,P=$+H):D==3?(q=d+H,P=$+p-p*this.time_step):(q=d+H,P=$+p*this.time_step),or.arc(q,P,(Z-.5-M*this.snake.length*2)/2,0,Math.PI*2),Z-M*this.snake.length*2<hr&&console.error(`Something wrong with SNAKE_WIDTH_DECREASE (${M}), end width is ${Z-M*this.snake.length*2}`)):m==this.snake.length-1&&(D==0?(q=d+p*this.time_step,P=$+H):D==2?(q=d+p-p*this.time_step,P=$+H):D==1?(q=d+H,P=$+p*this.time_step):(q=d+H,P=$+p-p*this.time_step),or.arc(q,P,Z/2,0,Math.PI*2)),this.ctx.translate(d+H,$+H),this.ctx.rotate(Math.PI/2*D),this.ctx.translate(-d-H,-$-H),this.ctx.fillStyle=k,this.ctx.fill(L),this.ctx.resetTransform(),m==0?this.ctx.fillStyle=br(0).hex():this.ctx.fillStyle=br(1-1.25/this.snake.length).hex(),this.ctx.fill(or)}else if(E==0||E==1){let d=this.snake[m].x*p,$=this.snake[m].y*p,q=new Path2D,P=new Path2D,L=this.ctx.createLinearGradient(d+H,$+p,d+p,$+H);L.addColorStop(0,br((m-this.time_step)/this.snake.length).hex()),L.addColorStop(1,br((m+1-this.time_step)/this.snake.length).hex());let or=w(d+H,$+p,d+H,$+H,d+p,$+H,this.time_step),k=V(d+H,$+p,d+H,$+H,d+p,$+H,this.time_step),vr=ir(k,or,(Z-1-M*this.snake.length*2)*-.5),Y=ir(k,or,(Z-1-M*this.snake.length*2)*.5);m==0?(q.moveTo(vr.x,vr.y),q.quadraticCurveTo(d+(T+(this.snake.length-m-1+this.time_step)*M)+(p-(T+(this.snake.length-m+this.time_step)*M))*this.time_step,$+(T+(this.snake.length-m-1+this.time_step)*M),d+p,$+(T+(this.snake.length-m-1+this.time_step)*M)),q.lineTo(d+p,$+p-(T+(this.snake.length-m-1+this.time_step)*M)),q.quadraticCurveTo(d+p-(T+(this.snake.length-m+this.time_step)*M)+(T+(this.snake.length-m-1+this.time_step)*M)*this.time_step,$+p-(T+(this.snake.length-m+this.time_step)*M),Y.x,Y.y)):(q.moveTo(d+(T+(this.snake.length-m+this.time_step)*M),$+p),q.quadraticCurveTo(d+(T+(this.snake.length-m-1+this.time_step)*M),$+(T+(this.snake.length-m-1+this.time_step)*M),d+p,$+(T+(this.snake.length-m-1+this.time_step)*M)),q.lineTo(d+p,$+p-(T+(this.snake.length-m-1+this.time_step)*M)),q.quadraticCurveTo(d+p-(T+(this.snake.length-m+this.time_step)*M),$+p-(T+(this.snake.length-m+this.time_step)*M),d+p-(T+(this.snake.length-m+this.time_step)*M),$+p)),m==0&&P.arc(or.x,or.y,(Z-.5-M*this.snake.length*2)/2,0,Math.PI*2),q.closePath(),this.ctx.translate(d+H,$+H),E==0?this.ctx.rotate(Math.PI/2*D):(this.ctx.rotate(Math.PI/4),this.ctx.scale(-1,1),this.ctx.rotate(Math.PI/4*5),this.ctx.rotate(-Math.PI/2*D)),this.ctx.translate(-d-H,-$-H),this.ctx.fillStyle=L,this.ctx.fill(P),this.ctx.fill(q),this.ctx.resetTransform()}else{console.error("snake just went inside itself wtf");return}}}draw_food(){if(this.ctx==null){console.error("draw_snake called before canvas context instantiated");return}let g=new Path2D;g.arc(this.food.x*p+H,this.food.y*p+H,H-5,0,Math.PI*2),this.ctx.fillStyle="red",this.ctx.fill(g)}}class fe{constructor(g,w){j(this,"x");j(this,"y");this.x=g,this.y=w}}class Er{constructor(g,w){j(this,"x");j(this,"y");j(this,"turn_dir");this.x=g,this.y=w,this.turn_dir=null}}function af(G){let g,w,V,ir,D,K,Z,hr,Q,M,T,br,m,E,c,d,$,q,P,L,or,k,vr,Y,oe,Cr,Xr,ue,$r,ce,ve,xr,Yr,Mr,Ir,Me,he,Nr,Ee,Or,ge,Ce;return{c(){g=tr("head"),w=tr("title"),V=Gr("Snake"),ir=kr(),D=tr("body"),K=tr("div"),Z=tr("div"),hr=tr("p"),Q=Gr(G[0]),M=kr(),T=tr("p"),br=Gr(G[1]),m=kr(),E=tr("div"),c=tr("div"),d=tr("p"),$=Gr("Score:"),q=kr(),P=tr("p"),L=Gr(G[0]),or=kr(),k=tr("div"),vr=tr("p"),Y=Gr("High Score:"),oe=kr(),Cr=tr("p"),Xr=Gr(G[1]),ue=kr(),$r=tr("button"),ce=Gr("Play Again"),ve=kr(),xr=tr("canvas"),Yr=kr(),Mr=tr("a"),Ir=tr("img"),he=kr(),Nr=tr("script"),Or=kr(),this.h()},l(ar){g=nr(ar,"HEAD",{});var gr=fr(g);w=nr(gr,"TITLE",{});var de=fr(w);V=qr(de,"Snake"),de.forEach(rr),gr.forEach(rr),ir=wr(ar),D=nr(ar,"BODY",{class:!0});var Ar=fr(D);K=nr(Ar,"DIV",{class:!0});var Sr=fr(K);Z=nr(Sr,"DIV",{class:!0});var Vr=fr(Z);hr=nr(Vr,"P",{class:!0});var Ne=fr(hr);Q=qr(Ne,G[0]),Ne.forEach(rr),M=wr(Vr),T=nr(Vr,"P",{class:!0});var Ur=fr(T);br=qr(Ur,G[1]),Ur.forEach(rr),Vr.forEach(rr),m=wr(Sr),E=nr(Sr,"DIV",{class:!0,style:!0});var Fr=fr(E);c=nr(Fr,"DIV",{class:!0});var Zr=fr(c);d=nr(Zr,"P",{class:!0});var Ae=fr(d);$=qr(Ae,"Score:"),Ae.forEach(rr),q=wr(Zr),P=nr(Zr,"P",{class:!0});var jr=fr(P);L=qr(jr,G[0]),jr.forEach(rr),Zr.forEach(rr),or=wr(Fr),k=nr(Fr,"DIV",{class:!0});var Jr=fr(k);vr=nr(Jr,"P",{class:!0});var be=fr(vr);Y=qr(be,"High Score:"),be.forEach(rr),oe=wr(Jr),Cr=nr(Jr,"P",{class:!0});var pe=fr(Cr);Xr=qr(pe,G[1]),pe.forEach(rr),Jr.forEach(rr),ue=wr(Fr),$r=nr(Fr,"BUTTON",{type:!0,class:!0});var me=fr($r);ce=qr(me,"Play Again"),me.forEach(rr),Fr.forEach(rr),ve=wr(Sr),xr=nr(Sr,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),fr(xr).forEach(rr),Sr.forEach(rr),Yr=wr(Ar),Mr=nr(Ar,"A",{title:!0,href:!0});var _e=fr(Mr);Ir=nr(_e,"IMG",{alt:!0,src:!0}),_e.forEach(rr),he=wr(Ar),Nr=nr(Ar,"SCRIPT",{src:!0});var Te=fr(Nr);Te.forEach(rr),Or=wr(Ar),Ar.forEach(rr),this.h()},h(){J(hr,"class","score svelte-2z77ix"),J(T,"class","high-score svelte-2z77ix"),J(Z,"class","scores-container svelte-2z77ix"),J(d,"class","left svelte-2z77ix"),J(P,"class","right svelte-2z77ix"),J(c,"class","score-line svelte-2z77ix"),J(vr,"class","left svelte-2z77ix"),J(Cr,"class","right svelte-2z77ix"),J(k,"class","score-line svelte-2z77ix"),J($r,"type","button"),J($r,"class","play-again-button svelte-2z77ix"),J(E,"class","end-screen svelte-2z77ix"),Gt(E,"visibility",G[2]),J(xr,"id","game_board"),J(xr,"width","595"),J(xr,"height","525"),J(xr,"class","svelte-2z77ix"),J(K,"class","game svelte-2z77ix"),J(Ir,"alt","Clicky"),qt(Ir.src,Me="//static.getclicky.com/media/links/badge.gif")||J(Ir,"src",Me),J(Mr,"title","Google Analytics Alternative"),J(Mr,"href","https://clicky.com/101402447"),Nr.async=!0,qt(Nr.src,Ee="//static.getclicky.com/101402447.js")||J(Nr,"src",Ee),J(D,"class","svelte-2z77ix")},m(ar,gr){ga(ar,g,gr),F(g,w),F(w,V),ga(ar,ir,gr),ga(ar,D,gr),F(D,K),F(K,Z),F(Z,hr),F(hr,Q),F(Z,M),F(Z,T),F(T,br),F(K,m),F(K,E),F(E,c),F(c,d),F(d,$),F(c,q),F(c,P),F(P,L),F(E,or),F(E,k),F(k,vr),F(vr,Y),F(k,oe),F(k,Cr),F(Cr,Xr),F(E,ue),F(E,$r),F($r,ce),F(K,ve),F(K,xr),F(D,Yr),F(D,Mr),F(Mr,Ir),F(D,he),F(D,Nr),F(D,Or),ge||(Ce=Jl($r,"click",G[3]),ge=!0)},p(ar,[gr]){gr&1&&qe(Q,ar[0]),gr&2&&qe(br,ar[1]),gr&1&&qe(L,ar[0]),gr&2&&qe(Xr,ar[1]),gr&4&&Gt(E,"visibility",ar[2])},i:Ot,o:Ot,d(ar){ar&&rr(g),ar&&rr(ir),ar&&rr(D),ge=!1,Ce()}}}function tf(G,g,w){let V,ir=new ef,D,K,Z;ir.score_store.subscribe(Q=>{w(0,D=Q)}),ir.high_score_store.subscribe(Q=>{w(1,K=Q)}),ir.end_screen_store.subscribe(Q=>{w(2,Z=Q)}),V=Ht(window),document.getElementsByTagName("html")[0].style.fontSize=`${V}vw`,window.addEventListener("resize",()=>{V=Ht(window),document.getElementsByTagName("html")[0].style.fontSize=`${V}vw`}),Ql(()=>{ir.set_document_and_window(document,window),ir.set_canvas(),document.addEventListener("keydown",Q=>{ir.on_key_down(Q)}),window.requestAnimationFrame(function(Q){ir.game_loop(Q)})});function hr(){ir.play_again()}return[D,K,Z,hr]}class of extends Ul{constructor(g){super(),Zl(this,g,tf,af,jl,{})}}export{of as default};
