import{S as Z,i as tt,s as et,k as p,q as R,a as x,y as lt,l as g,m,r as $,h as c,c as B,z as rt,n as T,b as k,G as y,A as st,K as z,L as M,g as ot,d as it,B as nt,M as L,N as W,o as at,O as ct,P as I,e as N,p as b,u as q,H as ht}from"../chunks/index.e5a23430.mjs";import{c as H}from"../chunks/units.13f9e7fa.mjs";import{N as ut}from"../chunks/Navbar.200d44ba.mjs";var A=(n=>(n.unClicked="unClicked",n.correct="correct",n.incorrect="incorrect",n))(A||{}),C=(n=>(n.goal="goal",n.death="death",n))(C||{});class ft{constructor(){this.status="unClicked",this.type=Math.random()<.5?"goal":"death"}getStatusChar(){return this.status=="incorrect"?"X":""}getStyle(){return this.status=="unClicked"?"box-unClicked":`box-${this.type}`}}class _t{constructor(e){this.size=e;let l,s,r;this.grid=[];for(let t=1;t<=this.size;t++){this.grid[t]=[];for(let o=1;o<=this.size;o++)this.grid[t][o]=new ft}this.column_positions=[];for(let t=1;t<=this.size;t++)this.column_positions[t]=this.getPositionsInColumn(t);this.row_positions=[];for(let t=1;t<=this.size;t++)this.row_positions[t]=this.getPositionsInRow(t);l=0,s=0,r=0;for(let t=1;t<=10;t++)for(let o=0;o<=4;o++){let i=this.get_int(this.column_positions[t][o]),a=this.get_int(this.row_positions[t][o]);l+=i,i!==0&&(s+=1,r+=i),a!==0&&(s+=1,r+=a)}console.log(l),console.log(r/s),console.log(l*(r/s))}get_int(e){let l=parseInt(e);return isNaN(l)?0:l}at_id(e){return this.grid[e.y][e.x]}at(e,l){return this.grid[l][e]}setStatus(e,l){this.grid[e.y][e.x].status=l}getPositionsInColumn(e){let l=0,s=[];for(let r=1;r<=this.size;r++)this.grid[r][e].type==C.goal?l+=1:l!=0&&(s.push(l.toString()),l=0);for(l!=0&&s.push(l.toString()),s=s.reverse();s.length<5;)s.push("  ");return s}getPositionsInRow(e){let l=0,s=[];for(let r=1;r<=this.size;r++)this.grid[e][r].type==C.goal?l+=1:l!=0&&(s.push(l.toString()),l=0);for(l!=0&&s.push(l.toString()),s=s.reverse();s.length<5;)s.push("  ");return s}}class dt{constructor(e){let l=e.target.id.split("_");this.x=parseInt(l[0]),this.y=parseInt(l[1])}}const{document:O}=ct;function U(n,e,l){const s=n.slice();return s[9]=e[l],s[11]=l,s}function K(n,e,l){const s=n.slice();return s[9]=e[l],s[13]=l,s}function X(n,e,l){const s=n.slice();return s[9]=e[l],s[15]=l,s}function Y(n,e,l){const s=n.slice();return s[9]=e[l],s[15]=l,s}function pt(n){let e,l,s=n[0].at(n[13],n[11]).getStatusChar()+"",r,t,o,i;return{c(){e=p("td"),l=p("button"),r=R(s),this.h()},l(a){e=g(a,"TD",{style:!0});var u=m(e);l=g(u,"BUTTON",{type:!0,id:!0,class:!0});var v=m(l);r=$(v,s),v.forEach(c),u.forEach(c),this.h()},h(){T(l,"type","button"),T(l,"id",n[13]+"_"+n[11]),T(l,"class",t="box "+n[0].at(n[13],n[11]).getStyle()+" svelte-1ifirk8"),b(e,"padding","0"),b(e,"border","1px solid #ccc")},m(a,u){k(a,e,u),y(e,l),y(l,r),o||(i=[z(l,"mousedown",n[1]),z(l,"mouseover",n[1]),z(l,"focus",n[5])],o=!0)},p(a,u){u&1&&s!==(s=a[0].at(a[13],a[11]).getStatusChar()+"")&&q(r,s),u&1&&t!==(t="box "+a[0].at(a[13],a[11]).getStyle()+" svelte-1ifirk8")&&T(l,"class",t)},d(a){a&&c(e),o=!1,W(i)}}}function gt(n){let e,l,s,r=Array(5),t=[];for(let o=0;o<r.length;o+=1)t[o]=F(X(n,r,o));return{c(){e=p("td"),l=p("table"),s=p("tr");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=g(o,"TD",{style:!0});var i=m(e);l=g(i,"TABLE",{});var a=m(l);s=g(a,"TR",{});var u=m(s);for(let v=0;v<t.length;v+=1)t[v].l(u);u.forEach(c),a.forEach(c),i.forEach(c),this.h()},h(){b(e,"padding","0"),b(e,"border","1px solid #ccc"),b(e,"border-left","0px")},m(o,i){k(o,e,i),y(e,l),y(l,s);for(let a=0;a<t.length;a+=1)t[a].m(s,null)},p(o,i){if(i&1){r=Array(5);let a;for(a=0;a<r.length;a+=1){const u=X(o,r,a);t[a]?t[a].p(u,i):(t[a]=F(u),t[a].c(),t[a].m(s,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=r.length}},d(o){o&&c(e),L(t,o)}}}function mt(n){let e;function l(t,o){return t[13]==0?yt:bt}let r=l(n)(n);return{c(){r.c(),e=N()},l(t){r.l(t),e=N()},m(t,o){r.m(t,o),k(t,e,o)},p(t,o){r.p(t,o)},d(t){r.d(t),t&&c(e)}}}function F(n){let e,l,s=n[0].row_positions[n[11]][4-n[15]]+"",r;return{c(){e=p("td"),l=p("pre"),r=R(s),this.h()},l(t){e=g(t,"TD",{style:!0});var o=m(e);l=g(o,"PRE",{class:!0});var i=m(l);r=$(i,s),i.forEach(c),o.forEach(c),this.h()},h(){T(l,"class","svelte-1ifirk8"),b(e,"color","white"),b(e,"padding","5px"),b(e,"text-align","right")},m(t,o){k(t,e,o),y(e,l),y(l,r)},p(t,o){o&1&&s!==(s=t[0].row_positions[t[11]][4-t[15]]+"")&&q(r,s)},d(t){t&&c(e)}}}function bt(n){let e,l,s=Array(5),r=[];for(let t=0;t<s.length;t+=1)r[t]=J(Y(n,s,t));return{c(){e=p("td"),l=p("table");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=g(t,"TD",{style:!0});var o=m(e);l=g(o,"TABLE",{style:!0});var i=m(l);for(let a=0;a<r.length;a+=1)r[a].l(i);i.forEach(c),o.forEach(c),this.h()},h(){b(l,"margin","auto"),b(e,"padding","0"),b(e,"border","1px solid #ccc"),b(e,"border-top","0px")},m(t,o){k(t,e,o),y(e,l);for(let i=0;i<r.length;i+=1)r[i].m(l,null)},p(t,o){if(o&1){s=Array(5);let i;for(i=0;i<s.length;i+=1){const a=Y(t,s,i);r[i]?r[i].p(a,o):(r[i]=J(a),r[i].c(),r[i].m(l,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=s.length}},d(t){t&&c(e),L(r,t)}}}function yt(n){let e;return{c(){e=p("td"),this.h()},l(l){e=g(l,"TD",{style:!0}),m(e).forEach(c),this.h()},h(){b(e,"padding","0"),b(e,"border","1px solid #ccc"),b(e,"border-left","0px"),b(e,"border-top","0px")},m(l,s){k(l,e,s)},p:ht,d(l){l&&c(e)}}}function J(n){let e,l,s,r=n[0].column_positions[n[13]][4-n[15]]+"",t;return{c(){e=p("tr"),l=p("td"),s=p("pre"),t=R(r),this.h()},l(o){e=g(o,"TR",{});var i=m(e);l=g(i,"TD",{style:!0});var a=m(l);s=g(a,"PRE",{class:!0});var u=m(s);t=$(u,r),u.forEach(c),a.forEach(c),i.forEach(c),this.h()},h(){T(s,"class","svelte-1ifirk8"),b(l,"color","white")},m(o,i){k(o,e,i),y(e,l),y(l,s),y(s,t)},p(o,i){i&1&&r!==(r=o[0].column_positions[o[13]][4-o[15]]+"")&&q(t,r)},d(o){o&&c(e)}}}function Q(n){let e;function l(t,o){return t[11]==0?mt:t[13]==0?gt:pt}let r=l(n)(n);return{c(){r.c(),e=N()},l(t){r.l(t),e=N()},m(t,o){r.m(t,o),k(t,e,o)},p(t,o){r.p(t,o)},d(t){r.d(t),t&&c(e)}}}function V(n){let e,l,s=Array(D+1),r=[];for(let t=0;t<s.length;t+=1)r[t]=Q(K(n,s,t));return{c(){e=p("tr");for(let t=0;t<r.length;t+=1)r[t].c();l=x()},l(t){e=g(t,"TR",{});var o=m(e);for(let i=0;i<r.length;i+=1)r[i].l(o);l=B(o),o.forEach(c)},m(t,o){k(t,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null);y(e,l)},p(t,o){if(o&3){s=Array(D+1);let i;for(i=0;i<s.length;i+=1){const a=K(t,s,i);r[i]?r[i].p(a,o):(r[i]=Q(a),r[i].c(),r[i].m(e,l))}for(;i<r.length;i+=1)r[i].d(1);r.length=s.length}},d(t){t&&c(e),L(r,t)}}}function vt(n){let e,l,s,r,t,o,i,a,u,v,P,_;o=new ut({});let E=Array(D+1),f=[];for(let h=0;h<E.length;h+=1)f[h]=V(U(n,E,h));return{c(){e=p("head"),l=p("title"),s=R("Picross"),r=x(),t=p("body"),lt(o.$$.fragment),i=x(),a=p("table");for(let h=0;h<f.length;h+=1)f[h].c();u=x(),this.h()},l(h){e=g(h,"HEAD",{});var w=m(e);l=g(w,"TITLE",{});var d=m(l);s=$(d,"Picross"),d.forEach(c),w.forEach(c),r=B(h),t=g(h,"BODY",{class:!0});var S=m(t);rt(o.$$.fragment,S),i=B(S),a=g(S,"TABLE",{class:!0});var G=m(a);for(let j=0;j<f.length;j+=1)f[j].l(G);G.forEach(c),S.forEach(c),u=B(h),this.h()},h(){T(a,"class","grid svelte-1ifirk8"),T(t,"class","svelte-1ifirk8")},m(h,w){k(h,e,w),y(e,l),y(l,s),k(h,r,w),k(h,t,w),st(o,t,null),y(t,i),y(t,a);for(let d=0;d<f.length;d+=1)f[d].m(a,null);k(h,u,w),v=!0,P||(_=[z(O.body,"contextmenu",M(n[2])),z(O.body,"dragstart",M(n[3])),z(O.body,"selectstart",M(n[4]))],P=!0)},p(h,[w]){if(w&3){E=Array(D+1);let d;for(d=0;d<E.length;d+=1){const S=U(h,E,d);f[d]?f[d].p(S,w):(f[d]=V(S),f[d].c(),f[d].m(a,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=E.length}},i(h){v||(ot(o.$$.fragment,h),v=!0)},o(h){it(o.$$.fragment,h),v=!1},d(h){h&&c(e),h&&c(r),h&&c(t),nt(o),L(f,h),h&&c(u),P=!1,W(_)}}}let D=10;function kt(n,e,l){let s;at(()=>{s=H(window),document.getElementsByTagName("html")[0].style.fontSize=`${s}vw`,window.addEventListener("resize",()=>{s=H(window),document.getElementsByTagName("html")[0].style.fontSize=`${s}vw`})});var r;(function(_){_[_.left=1]="left",_[_.right=2]="right"})(r||(r={}));let t=new _t(D);function o(){l(0,t)}async function i(_){let E=new dt(_),f=t.at_id(E);f.status==A.unClicked&&(_.buttons==r.left?t.setStatus(E,f.type==C.goal?A.correct:A.incorrect):_.buttons==r.right&&t.setStatus(E,f.type==C.death?A.correct:A.incorrect)),o()}function a(_){I.call(this,n,_)}function u(_){I.call(this,n,_)}function v(_){I.call(this,n,_)}function P(_){I.call(this,n,_)}return[t,i,a,u,v,P]}class St extends Z{constructor(e){super(),tt(this,e,kt,vt,et,{})}}export{St as default};
