import{S as ht,i as ut,s as ft,k as _,q as G,a as C,y as _t,l as d,m as p,r as M,h as c,c as I,z as dt,n as k,J as W,b as E,G as f,A as pt,K as x,L as J,g as gt,d as mt,B as bt,M as q,N as at,o as yt,O as vt,P as L,e as j,p as b,u as X,H as kt}from"../chunks/index.e5a23430.mjs";import{c as Z}from"../chunks/units.13f9e7fa.mjs";import{N as Et}from"../chunks/Navbar.200d44ba.mjs";var D=(n=>(n.unClicked="unClicked",n.correct="correct",n.incorrect="incorrect",n))(D||{}),B=(n=>(n.goal="goal",n.death="death",n))(B||{});class wt{constructor(){this.status="unClicked",this.type=Math.random()<.5?"goal":"death"}getStatusChar(){return this.status=="incorrect"?"X":""}getStyle(){return this.status=="unClicked"?"box-unClicked":`box-${this.type}`}}class Tt{constructor(e){this.size=e;let l,s,r;this.grid=[];for(let t=1;t<=this.size;t++){this.grid[t]=[];for(let i=1;i<=this.size;i++)this.grid[t][i]=new wt}this.column_positions=[];for(let t=1;t<=this.size;t++)this.column_positions[t]=this.getPositionsInColumn(t);this.row_positions=[];for(let t=1;t<=this.size;t++)this.row_positions[t]=this.getPositionsInRow(t);l=0,s=0,r=0;for(let t=1;t<=10;t++)for(let i=0;i<=4;i++){let o=this.get_int(this.column_positions[t][i]),a=this.get_int(this.row_positions[t][i]);l+=o,o!==0&&(s+=1,r+=o),a!==0&&(s+=1,r+=a)}console.log(l),console.log(r/s),console.log(l*(r/s))}get_int(e){let l=parseInt(e);return isNaN(l)?0:l}at_id(e){return this.grid[e.y][e.x]}at(e,l){return this.grid[l][e]}setStatus(e,l){this.grid[e.y][e.x].status=l}getPositionsInColumn(e){let l=0,s=[];for(let r=1;r<=this.size;r++)this.grid[r][e].type==B.goal?l+=1:l!=0&&(s.push(l.toString()),l=0);for(l!=0&&s.push(l.toString()),s=s.reverse();s.length<5;)s.push("  ");return s}getPositionsInRow(e){let l=0,s=[];for(let r=1;r<=this.size;r++)this.grid[e][r].type==B.goal?l+=1:l!=0&&(s.push(l.toString()),l=0);for(l!=0&&s.push(l.toString()),s=s.reverse();s.length<5;)s.push("  ");return s}}class At{constructor(e){let l=e.target.id.split("_");this.x=parseInt(l[0]),this.y=parseInt(l[1])}}const{document:K}=vt;function tt(n,e,l){const s=n.slice();return s[9]=e[l],s[11]=l,s}function et(n,e,l){const s=n.slice();return s[9]=e[l],s[13]=l,s}function lt(n,e,l){const s=n.slice();return s[9]=e[l],s[15]=l,s}function rt(n,e,l){const s=n.slice();return s[9]=e[l],s[15]=l,s}function St(n){let e,l,s=n[0].at(n[13],n[11]).getStatusChar()+"",r,t,i,o;return{c(){e=_("td"),l=_("button"),r=G(s),this.h()},l(a){e=d(a,"TD",{style:!0});var u=p(e);l=d(u,"BUTTON",{type:!0,id:!0,class:!0});var y=p(l);r=M(y,s),y.forEach(c),u.forEach(c),this.h()},h(){k(l,"type","button"),k(l,"id",n[13]+"_"+n[11]),k(l,"class",t="box "+n[0].at(n[13],n[11]).getStyle()+" svelte-1ifirk8"),b(e,"padding","0"),b(e,"border","1px solid #ccc")},m(a,u){E(a,e,u),f(e,l),f(l,r),i||(o=[x(l,"mousedown",n[1]),x(l,"mouseover",n[1]),x(l,"focus",n[5])],i=!0)},p(a,u){u&1&&s!==(s=a[0].at(a[13],a[11]).getStatusChar()+"")&&X(r,s),u&1&&t!==(t="box "+a[0].at(a[13],a[11]).getStyle()+" svelte-1ifirk8")&&k(l,"class",t)},d(a){a&&c(e),i=!1,at(o)}}}function zt(n){let e,l,s,r=Array(5),t=[];for(let i=0;i<r.length;i+=1)t[i]=st(lt(n,r,i));return{c(){e=_("td"),l=_("table"),s=_("tr");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=d(i,"TD",{style:!0});var o=p(e);l=d(o,"TABLE",{});var a=p(l);s=d(a,"TR",{});var u=p(s);for(let y=0;y<t.length;y+=1)t[y].l(u);u.forEach(c),a.forEach(c),o.forEach(c),this.h()},h(){b(e,"padding","0"),b(e,"border","1px solid #ccc"),b(e,"border-left","0px")},m(i,o){E(i,e,o),f(e,l),f(l,s);for(let a=0;a<t.length;a+=1)t[a].m(s,null)},p(i,o){if(o&1){r=Array(5);let a;for(a=0;a<r.length;a+=1){const u=lt(i,r,a);t[a]?t[a].p(u,o):(t[a]=st(u),t[a].c(),t[a].m(s,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=r.length}},d(i){i&&c(e),q(t,i)}}}function Ct(n){let e;function l(t,i){return t[13]==0?Pt:It}let r=l(n)(n);return{c(){r.c(),e=j()},l(t){r.l(t),e=j()},m(t,i){r.m(t,i),E(t,e,i)},p(t,i){r.p(t,i)},d(t){r.d(t),t&&c(e)}}}function st(n){let e,l,s=n[0].row_positions[n[11]][4-n[15]]+"",r;return{c(){e=_("td"),l=_("pre"),r=G(s),this.h()},l(t){e=d(t,"TD",{style:!0});var i=p(e);l=d(i,"PRE",{class:!0});var o=p(l);r=M(o,s),o.forEach(c),i.forEach(c),this.h()},h(){k(l,"class","svelte-1ifirk8"),b(e,"color","white"),b(e,"padding","5px"),b(e,"text-align","right")},m(t,i){E(t,e,i),f(e,l),f(l,r)},p(t,i){i&1&&s!==(s=t[0].row_positions[t[11]][4-t[15]]+"")&&X(r,s)},d(t){t&&c(e)}}}function It(n){let e,l,s=Array(5),r=[];for(let t=0;t<s.length;t+=1)r[t]=it(rt(n,s,t));return{c(){e=_("td"),l=_("table");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=d(t,"TD",{style:!0});var i=p(e);l=d(i,"TABLE",{style:!0});var o=p(l);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(c),i.forEach(c),this.h()},h(){b(l,"margin","auto"),b(e,"padding","0"),b(e,"border","1px solid #ccc"),b(e,"border-top","0px")},m(t,i){E(t,e,i),f(e,l);for(let o=0;o<r.length;o+=1)r[o].m(l,null)},p(t,i){if(i&1){s=Array(5);let o;for(o=0;o<s.length;o+=1){const a=rt(t,s,o);r[o]?r[o].p(a,i):(r[o]=it(a),r[o].c(),r[o].m(l,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(t){t&&c(e),q(r,t)}}}function Pt(n){let e;return{c(){e=_("td"),this.h()},l(l){e=d(l,"TD",{style:!0}),p(e).forEach(c),this.h()},h(){b(e,"padding","0"),b(e,"border","1px solid #ccc"),b(e,"border-left","0px"),b(e,"border-top","0px")},m(l,s){E(l,e,s)},p:kt,d(l){l&&c(e)}}}function it(n){let e,l,s,r=n[0].column_positions[n[13]][4-n[15]]+"",t;return{c(){e=_("tr"),l=_("td"),s=_("pre"),t=G(r),this.h()},l(i){e=d(i,"TR",{});var o=p(e);l=d(o,"TD",{style:!0});var a=p(l);s=d(a,"PRE",{class:!0});var u=p(s);t=M(u,r),u.forEach(c),a.forEach(c),o.forEach(c),this.h()},h(){k(s,"class","svelte-1ifirk8"),b(l,"color","white")},m(i,o){E(i,e,o),f(e,l),f(l,s),f(s,t)},p(i,o){o&1&&r!==(r=i[0].column_positions[i[13]][4-i[15]]+"")&&X(t,r)},d(i){i&&c(e)}}}function ot(n){let e;function l(t,i){return t[11]==0?Ct:t[13]==0?zt:St}let r=l(n)(n);return{c(){r.c(),e=j()},l(t){r.l(t),e=j()},m(t,i){r.m(t,i),E(t,e,i)},p(t,i){r.p(t,i)},d(t){r.d(t),t&&c(e)}}}function nt(n){let e,l,s=Array(N+1),r=[];for(let t=0;t<s.length;t+=1)r[t]=ot(et(n,s,t));return{c(){e=_("tr");for(let t=0;t<r.length;t+=1)r[t].c();l=C()},l(t){e=d(t,"TR",{});var i=p(e);for(let o=0;o<r.length;o+=1)r[o].l(i);l=I(i),i.forEach(c)},m(t,i){E(t,e,i);for(let o=0;o<r.length;o+=1)r[o].m(e,null);f(e,l)},p(t,i){if(i&3){s=Array(N+1);let o;for(o=0;o<s.length;o+=1){const a=et(t,s,o);r[o]?r[o].p(a,i):(r[o]=ot(a),r[o].c(),r[o].m(e,l))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(t){t&&c(e),q(r,t)}}}function Dt(n){let e,l,s,r,t,i,o,a,u,y,S,g,z,T,Y,O,R,$,H,F;i=new Et({});let P=Array(N+1),v=[];for(let h=0;h<P.length;h+=1)v[h]=nt(tt(n,P,h));return{c(){e=_("head"),l=_("title"),s=G("Picross"),r=C(),t=_("body"),_t(i.$$.fragment),o=C(),a=_("table");for(let h=0;h<v.length;h+=1)v[h].c();u=C(),y=_("a"),S=_("img"),z=C(),T=_("script"),O=C(),R=C(),this.h()},l(h){e=d(h,"HEAD",{});var A=p(e);l=d(A,"TITLE",{});var m=p(l);s=M(m,"Picross"),m.forEach(c),A.forEach(c),r=I(h),t=d(h,"BODY",{class:!0});var w=p(t);dt(i.$$.fragment,w),o=I(w),a=d(w,"TABLE",{class:!0});var Q=p(a);for(let U=0;U<v.length;U+=1)v[U].l(Q);Q.forEach(c),u=I(w),y=d(w,"A",{title:!0,href:!0});var V=p(y);S=d(V,"IMG",{alt:!0,src:!0}),V.forEach(c),z=I(w),T=d(w,"SCRIPT",{src:!0});var ct=p(T);ct.forEach(c),O=I(w),w.forEach(c),R=I(h),this.h()},h(){k(a,"class","grid svelte-1ifirk8"),k(S,"alt","Clicky"),W(S.src,g="//static.getclicky.com/media/links/badge.gif")||k(S,"src",g),k(y,"title","Google Analytics Alternative"),k(y,"href","https://clicky.com/101402447"),T.async=!0,W(T.src,Y="//static.getclicky.com/101402447.js")||k(T,"src",Y),k(t,"class","svelte-1ifirk8")},m(h,A){E(h,e,A),f(e,l),f(l,s),E(h,r,A),E(h,t,A),pt(i,t,null),f(t,o),f(t,a);for(let m=0;m<v.length;m+=1)v[m].m(a,null);f(t,u),f(t,y),f(y,S),f(t,z),f(t,T),f(t,O),E(h,R,A),$=!0,H||(F=[x(K.body,"contextmenu",J(n[2])),x(K.body,"dragstart",J(n[3])),x(K.body,"selectstart",J(n[4]))],H=!0)},p(h,[A]){if(A&3){P=Array(N+1);let m;for(m=0;m<P.length;m+=1){const w=tt(h,P,m);v[m]?v[m].p(w,A):(v[m]=nt(w),v[m].c(),v[m].m(a,null))}for(;m<v.length;m+=1)v[m].d(1);v.length=P.length}},i(h){$||(gt(i.$$.fragment,h),$=!0)},o(h){mt(i.$$.fragment,h),$=!1},d(h){h&&c(e),h&&c(r),h&&c(t),bt(i),q(v,h),h&&c(R),H=!1,at(F)}}}let N=10;function xt(n,e,l){let s;yt(()=>{s=Z(window),document.getElementsByTagName("html")[0].style.fontSize=`${s}vw`,window.addEventListener("resize",()=>{s=Z(window),document.getElementsByTagName("html")[0].style.fontSize=`${s}vw`})});var r;(function(g){g[g.left=1]="left",g[g.right=2]="right"})(r||(r={}));let t=new Tt(N);function i(){l(0,t)}async function o(g){let z=new At(g),T=t.at_id(z);T.status==D.unClicked&&(g.buttons==r.left?t.setStatus(z,T.type==B.goal?D.correct:D.incorrect):g.buttons==r.right&&t.setStatus(z,T.type==B.death?D.correct:D.incorrect)),i()}function a(g){L.call(this,n,g)}function u(g){L.call(this,n,g)}function y(g){L.call(this,n,g)}function S(g){L.call(this,n,g)}return[t,o,a,u,y,S]}class $t extends ht{constructor(e){super(),ut(this,e,xt,Dt,ft,{})}}export{$t as default};
